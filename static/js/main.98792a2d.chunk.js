(this["webpackJsonpcampus-food-finder"]=this["webpackJsonpcampus-food-finder"]||[]).push([[0],{10:function(e,a,t){e.exports=t(20)},18:function(e,a,t){},20:function(e,a,t){"use strict";t.r(a);var l=t(0),r=t.n(l),n=t(9),s=t.n(n),c=(t(18),t(1)),o=t(29),i=t(30),m=t(31),d=t(32),u=t(33),p=t(34),g=t(28),b=t(5);const E=Object(l.createContext)(),f=()=>{const e=Object(l.useContext)(E);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},x=[{id:1,email:"111111@edu.p.lodz.pl",password:"password123",name:"John Doe",role:"student",preferences:{dietary:["vegetarian"],priceRange:"low",notifications:!0},favoriteLocations:[1,3]},{id:2,email:"admin@edu.p.lodz.pl",password:"admin123",name:"Admin User",role:"admin",preferences:{dietary:[],priceRange:"all",notifications:!0},favoriteLocations:[]}],v=e=>{let{children:a}=e;const[t,n]=Object(l.useState)(null),[s,o]=Object(l.useState)(!0);Object(l.useEffect)(()=>{const e=localStorage.getItem("campusFoodFinder_user");e&&n(JSON.parse(e)),o(!1)},[]);const i={user:t,login:async(e,a)=>{const t=x.find(t=>t.email===e&&t.password===a);if(t){const e=Object(c.a)({},t);return delete e.password,n(e),localStorage.setItem("campusFoodFinder_user",JSON.stringify(e)),{success:!0}}return{success:!1,error:"Invalid credentials"}},register:async e=>{const a=Object(c.a)(Object(c.a)({id:Date.now()},e),{},{role:"student",preferences:{dietary:[],priceRange:"all",notifications:!0},favoriteLocations:[]}),t=Object(c.a)({},a);return delete t.password,n(t),localStorage.setItem("campusFoodFinder_user",JSON.stringify(t)),{success:!0}},logout:()=>{n(null),localStorage.removeItem("campusFoodFinder_user"),window.closeModal&&window.closeModal()},updatePreferences:e=>{const a=Object(c.a)(Object(c.a)({},t),{},{preferences:Object(c.a)(Object(c.a)({},t.preferences),e)});n(a),localStorage.setItem("campusFoodFinder_user",JSON.stringify(a))},toggleFavorite:e=>{if(!t)return;const a=t.favoriteLocations||[],l=a.includes(e)?a.filter(a=>a!==e):[...a,e],r=Object(c.a)(Object(c.a)({},t),{},{favoriteLocations:l});n(r),localStorage.setItem("campusFoodFinder_user",JSON.stringify(r))},loading:s};return r.a.createElement(E.Provider,{value:i},a)};var N=t(21),h=t(22),y=t(23),w=t(24),k=t(25),j=t(26),S=t(27);const C=e=>{let{onClose:a,onSwitchToRegister:t}=e;const[n,s]=Object(l.useState)(""),[c,o]=Object(l.useState)(""),[i,m]=Object(l.useState)(""),[d,u]=Object(l.useState)(!1),{login:p}=f();return r.a.createElement("div",{className:"w-full max-w-md mx-auto p-6 bg-white rounded-lg"},r.a.createElement("h2",{className:"text-2xl font-bold mb-6 text-center"},"Login to Campus Food Finder"),r.a.createElement("div",{className:"space-y-4"},r.a.createElement("div",null,r.a.createElement("label",{className:"block text-sm font-medium mb-2"},"University Email"),r.a.createElement("div",{className:"relative"},r.a.createElement(N.a,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r.a.createElement("input",{type:"email",value:n,onChange:e=>s(e.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"123456@edu.p.lodz.pl"}))),r.a.createElement("div",null,r.a.createElement("label",{className:"block text-sm font-medium mb-2"},"Password"),r.a.createElement("div",{className:"relative"},r.a.createElement(h.a,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r.a.createElement("input",{type:"password",value:c,onChange:e=>o(e.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Password"}))),i&&r.a.createElement("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg text-red-700"},i),r.a.createElement("button",{onClick:async()=>{u(!0),m("");const e=await p(n,c);e.success?a():m(e.error),u(!1)},disabled:d,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center"},d?r.a.createElement("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{size:20,className:"mr-2"}),"Login"))),r.a.createElement("div",{className:"mt-6 text-center"},r.a.createElement("p",{className:"text-gray-600"},"Don't have an account?"," ",r.a.createElement("button",{onClick:t,className:"text-blue-600 hover:underline font-medium"},"Register here"))),r.a.createElement("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg text-sm text-gray-600"},r.a.createElement("p",null,r.a.createElement("strong",null,"Demo Credentials:")),r.a.createElement("p",null,"Student: 111111@edu.p.lodz.pl / password123"),r.a.createElement("p",null,"Admin: admin@edu.p.lodz.pl / admin123"),r.a.createElement("p",{className:"text-xs mt-1 text-gray-500"},"Format: 123456@edu.p.lodz.pl")))},P=e=>{let{onClose:a,onSwitchToLogin:t}=e;const[n,s]=Object(l.useState)({name:"",email:"",password:"",confirmPassword:""}),[o,i]=Object(l.useState)(""),[m,d]=Object(l.useState)(!1),[u,p]=Object(l.useState)({}),{register:g}=f(),b=(e,a)=>{const t=Object(c.a)({},u);switch(e){case"name":a.trim()?a.trim().length<2?t.name="Name must be at least 2 characters":delete t.name:t.name="Name is required";break;case"email":a.trim()?a.endsWith("@edu.p.lodz.pl")?a.replace("@edu.p.lodz.pl","").length?delete t.email:t.email="Invalid email format":t.email="Must end with @edu.p.lodz.pl":t.email="Email is required";break;case"password":a.length<6?t.password="Password must be at least 6 characters":delete t.password;break;case"confirmPassword":a!==n.password?t.confirmPassword="Passwords do not match":delete t.confirmPassword}p(t)};return r.a.createElement("div",{className:"w-full max-w-md mx-auto p-6 bg-white rounded-lg"},r.a.createElement("h2",{className:"text-2xl font-bold mb-6 text-center"},"Register for Campus Food Finder"),r.a.createElement("div",{className:"space-y-4"},r.a.createElement("div",null,r.a.createElement("label",{className:"block text-sm font-medium mb-2"},"Full Name"),r.a.createElement("div",{className:"relative"},r.a.createElement(w.a,{size:20,className:"absolute left-3 top-3 text-gray-400"}),r.a.createElement("input",{type:"text",value:n.name,onChange:e=>{const a=e.target.value;s(Object(c.a)(Object(c.a)({},n),{},{name:a})),b("name",a)},className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 ".concat(u.name?"border-red-500 focus:ring-red-500":"focus:ring-blue-500"),placeholder:"John Doe"})),r.a.createElement("div",{className:"h-5 mt-1"},u.name&&r.a.createElement("p",{className:"text-red-500 text-xs"},u.name))),r.a.createElement("div",null,r.a.createElement("label",{className:"block text-sm font-medium mb-2"},"University Email"),r.a.createElement("div",{className:"relative"},r.a.createElement(N.a,{size:20,className:"absolute left-3 top-3 text-gray-400"}),r.a.createElement("input",{type:"email",value:n.email,onChange:e=>{const a=e.target.value;s(Object(c.a)(Object(c.a)({},n),{},{email:a})),b("email",a)},className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 ".concat(u.email?"border-red-500 focus:ring-red-500":"focus:ring-blue-500"),placeholder:"123456@edu.p.lodz.pl"})),r.a.createElement("div",{className:"h-5 mt-1"},u.email&&r.a.createElement("p",{className:"text-red-500 text-xs"},u.email))),r.a.createElement("div",null,r.a.createElement("label",{className:"block text-sm font-medium mb-2"},"Password"),r.a.createElement("div",{className:"relative"},r.a.createElement(h.a,{size:20,className:"absolute left-3 top-3 text-gray-400"}),r.a.createElement("input",{type:"password",value:n.password,onChange:e=>{const a=e.target.value;s(Object(c.a)(Object(c.a)({},n),{},{password:a})),b("password",a)},className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 ".concat(u.password?"border-red-500 focus:ring-red-500":"focus:ring-blue-500"),placeholder:"Password (min 6 characters)"})),r.a.createElement("div",{className:"h-5 mt-1"},u.password&&r.a.createElement("p",{className:"text-red-500 text-xs"},u.password))),r.a.createElement("div",null,r.a.createElement("label",{className:"block text-sm font-medium mb-2"},"Confirm Password"),r.a.createElement("div",{className:"relative"},r.a.createElement(h.a,{size:20,className:"absolute left-3 top-3 text-gray-400"}),r.a.createElement("input",{type:"password",value:n.confirmPassword,onChange:e=>{const a=e.target.value;s(Object(c.a)(Object(c.a)({},n),{},{confirmPassword:a})),b("confirmPassword",a)},className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 ".concat(u.confirmPassword?"border-red-500 focus:ring-red-500":"focus:ring-blue-500"),placeholder:"Confirm Password"})),r.a.createElement("div",{className:"h-5 mt-1"},u.confirmPassword&&r.a.createElement("p",{className:"text-red-500 text-xs"},u.confirmPassword))),o&&r.a.createElement("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg text-red-700"},o),r.a.createElement("button",{onClick:async()=>{if(d(!0),i(""),!n.name||0===n.name.trim().length)return i("Full name is required"),void d(!1);if(n.name.trim().length<2)return i("Full name must be at least 2 characters long"),void d(!1);if(!n.email||0===n.email.trim().length)return i("University email is required"),void d(!1);if(!n.email.endsWith("@edu.p.lodz.pl"))return i("Please use your university email ending with @edu.p.lodz.pl"),void d(!1);if(0===n.email.replace("@edu.p.lodz.pl","").length)return i("Invalid email format"),void d(!1);if(!/^[a-zA-Z0-9._-]+@edu\.p\.lodz\.pl$/.test(n.email))return i("Invalid email format. Use format: 123456@edu.p.lodz.pl"),void d(!1);if(n.password.length<6)return i("Password must be at least 6 characters"),void d(!1);if(n.password!==n.confirmPassword)return i("Passwords do not match"),void d(!1);const e=await g(n);e.success?a():i(e.error),d(!1)},disabled:m,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center"},m?r.a.createElement("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,{size:20,className:"mr-2"}),"Register"))),r.a.createElement("div",{className:"mt-6 text-center"},r.a.createElement("p",{className:"text-gray-600"},"Already have an account?"," ",r.a.createElement("button",{onClick:t,className:"text-blue-600 hover:underline font-medium"},"Login here"))))},L=e=>{let{user:a,onUpdatePreferences:t,onClose:n,showAllDiscounts:s}=e;const[o,i]=Object(l.useState)(a.preferences),{logout:m}=f();return r.a.createElement("div",{className:"w-full max-w-md mx-auto p-6 bg-white rounded-lg"},r.a.createElement("h2",{className:"text-2xl font-bold mb-6"},"User Profile"),s&&r.a.createElement("div",{className:"mb-4 p-3 bg-orange-50 border border-orange-200 rounded-lg"},r.a.createElement("p",{className:"text-sm text-orange-700"},r.a.createElement("strong",null,"Note:")," Your preferences are currently overridden to show all locations. Update your preferences below to apply filtering again.")),r.a.createElement("div",{className:"mb-6"},r.a.createElement("div",{className:"flex items-center mb-4"},r.a.createElement(w.a,{size:24,className:"text-blue-600 mr-3"}),r.a.createElement("div",null,r.a.createElement("p",{className:"font-medium"},a.name),r.a.createElement("p",{className:"text-sm text-gray-600"},a.email),r.a.createElement("p",{className:"text-xs text-gray-500 capitalize"},a.role)))),r.a.createElement("div",{className:"mb-6"},r.a.createElement("h3",{className:"font-medium mb-3"},"Food Preferences"),r.a.createElement("div",{className:"mb-4"},r.a.createElement("label",{className:"block text-sm font-medium mb-2"},"Preferred Price Range"),r.a.createElement("select",{value:o.priceRange,onChange:e=>i(Object(c.a)(Object(c.a)({},o),{},{priceRange:e.target.value})),className:"w-full p-2 border rounded-lg ".concat(s?"border-orange-300 bg-orange-50":"")},r.a.createElement("option",{value:"all"},"All Prices"),r.a.createElement("option",{value:"low"},"Budget (Under 10 PLN)"),r.a.createElement("option",{value:"medium"},"Mid-Range (10-15 PLN)"),r.a.createElement("option",{value:"high"},"Premium (15+ PLN)")),s&&r.a.createElement("p",{className:"text-xs text-orange-600 mt-1"},"Currently showing all prices regardless of this setting")),r.a.createElement("div",{className:"mb-4"},r.a.createElement("label",{className:"block text-sm font-medium mb-2"},"Dietary Preferences"),r.a.createElement("div",{className:"space-y-2"},["vegetarian","vegan","gluten-free","halal"].map(e=>r.a.createElement("label",{key:e,className:"flex items-center"},r.a.createElement("input",{type:"checkbox",checked:o.dietary.includes(e),onChange:a=>{a.target.checked?i(Object(c.a)(Object(c.a)({},o),{},{dietary:[...o.dietary,e]})):i(Object(c.a)(Object(c.a)({},o),{},{dietary:o.dietary.filter(a=>a!==e)}))},className:"mr-2 ".concat(s?"accent-orange-500":"")}),r.a.createElement("span",{className:"capitalize ".concat(s?"text-orange-700":"")},e.replace("-"," "))))),s&&r.a.createElement("p",{className:"text-xs text-orange-600 mt-1"},"Currently showing all dietary options regardless of these settings")),r.a.createElement("div",{className:"mb-6"},r.a.createElement("label",{className:"flex items-center"},r.a.createElement("input",{type:"checkbox",checked:o.notifications,onChange:e=>i(Object(c.a)(Object(c.a)({},o),{},{notifications:e.target.checked})),className:"mr-2"}),r.a.createElement(j.a,{size:16,className:"mr-1"}),r.a.createElement("span",null,"Enable notifications for new discounts")))),r.a.createElement("div",{className:"flex space-x-3"},r.a.createElement("button",{onClick:()=>{t(o),n()},className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700"},"Save Changes"),r.a.createElement("button",{onClick:m,className:"flex-1 bg-gray-600 text-white py-2 px-4 rounded-lg hover:bg-gray-700 flex items-center justify-center"},r.a.createElement(S.a,{size:16,className:"mr-1"}),"Logout")))},O=()=>{const{user:e}=f(),[a,t]=Object(l.useState)([]),[n,s]=Object(l.useState)(!1);Object(l.useEffect)(()=>{e&&e.preferences.notifications&&"111111@edu.p.lodz.pl"===e.email?0===a.length&&t([{id:1,title:"New Discount at GI\xc0 pasta bar!",message:"20% off all pasta dishes today for students",type:"discount",read:!1,timestamp:new Date(Date.now()-18e5)},{id:2,title:"New vegetarian option available",message:"Bar Ha Long now offers vegetarian spring rolls",type:"new_option",read:!1,timestamp:new Date(Date.now()-72e5)}]):e&&"111111@edu.p.lodz.pl"===e.email||t([])},[e,a.length]);const o=e.preferences.notifications?a.filter(e=>!e.read).length:0;return e?r.a.createElement("div",{className:"relative"},r.a.createElement("button",{onClick:()=>s(!n),className:"relative p-2 text-white hover:bg-blue-700 rounded-lg"},r.a.createElement(j.a,{size:20}),o>0&&r.a.createElement("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center"},o)),n&&r.a.createElement("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg border z-50"},r.a.createElement("div",{className:"p-4 border-b flex justify-between items-center"},r.a.createElement("h3",{className:"font-medium text-gray-900"},"Notifications"),r.a.createElement("button",{onClick:()=>s(!1),className:"text-gray-500 hover:text-gray-700"},r.a.createElement(g.a,{size:16}))),r.a.createElement("div",{className:"max-h-64 overflow-y-auto"},e.preferences.notifications?0===a.length?r.a.createElement("div",{className:"p-4 text-center text-gray-500"},"No notifications yet"):a.map(e=>r.a.createElement("div",{key:e.id,className:"p-4 border-b hover:bg-gray-50 cursor-pointer ".concat(e.read?"":"bg-blue-50"),onClick:()=>{return a=e.id,void t(e=>e.map(e=>e.id===a?Object(c.a)(Object(c.a)({},e),{},{read:!0}):e));var a}},r.a.createElement("div",{className:"flex justify-between items-start"},r.a.createElement("div",{className:"flex-1"},r.a.createElement("h4",{className:"font-medium text-sm text-gray-900"},e.title),r.a.createElement("p",{className:"text-sm text-gray-700 mt-1"},e.message),r.a.createElement("p",{className:"text-xs text-gray-400 mt-2"},e.timestamp.toLocaleTimeString())),!e.read&&r.a.createElement("div",{className:"w-2 h-2 bg-blue-500 rounded-full ml-2 flex-shrink-0"})))):r.a.createElement("div",{className:"p-4 text-center text-gray-500"},r.a.createElement("p",{className:"text-sm"},"Notifications are disabled"),r.a.createElement("p",{className:"text-xs mt-1"},"Enable them in your profile to receive updates"))))):null},R="https://script.google.com/macros/s/AKfycbzW29Q_796NhbF32lcZknKjBkKutimAr7_2yngEZFaeJNktOIZe-G47hhx5JBX53L4/exec",F={async getPendingSubmissions(){try{const e=await fetch("".concat(R,"?action=getPendingSubmissions"));return(await e.json()).submissions||[]}catch(e){return console.error("Error fetching submissions:",e),[]}},async getApprovedLocations(){try{const e=await fetch("".concat(R,"?action=getApprovedLocations"));return(await e.json()).locations||[]}catch(e){return console.error("Error fetching approved locations:",e),[]}},async updateSubmissionStatus(e,a){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"admin";try{const l="".concat(R,"?action=updateSubmissionStatus&rowId=").concat(e,"&status=").concat(a,"&reviewedBy=").concat(t),r=await fetch(l,{method:"POST"}),n=await r.json();return{success:n.success,approvedLocation:n.approvedLocation}}catch(l){return console.error("Error updating submission status:",l),{success:!1}}}},z=()=>{const{user:e}=f(),[a,t]=Object(l.useState)([]),[n,s]=Object(l.useState)(!1);Object(l.useEffect)(()=>{e&&"admin"===e.role&&c()},[e]);const c=async()=>{s(!0);try{const e=await F.getPendingSubmissions();t(e)}catch(e){console.error("Error loading submissions:",e)}s(!1)},o=async(a,l)=>{try{console.log("=== Starting approval process ==="),console.log("Submission:",a),console.log("Action:",l),console.log("User email:",e.email);const r=await F.updateSubmissionStatus(a.id,l,e.email);console.log("=== API Response ==="),console.log("Full result:",r),console.log("Result success:",r.success),console.log("Approved location:",r.approvedLocation),r.success?(t(e=>e.filter(e=>e.id!==a.id)),"approved"===l?r.approvedLocation?(console.log("=== Adding to main locations list ==="),console.log("Location to add:",r.approvedLocation),i(r.approvedLocation)):(console.error("=== NO APPROVED LOCATION IN RESULT ==="),alert("\u2705 ".concat(a.name," has been approved, but location data is missing."))):alert("".concat(a.name," has been rejected."))):(console.error("=== UPDATE FAILED ==="),console.error("Error:",r.error),alert("Error: ".concat(r.error||"Unknown error occurred")),c())}catch(r){console.error("=== EXCEPTION IN APPROVAL ==="),console.error("Error:",r),alert("Error processing request. Please try refreshing the page."),c()}},i=e=>{console.log("=== Dispatching newLocationApproved event ==="),console.log("Event data:",e);const a=new CustomEvent("newLocationApproved",{detail:e});console.log("Event created:",a),window.dispatchEvent(a),console.log("Event dispatched successfully")};return e&&"admin"===e.role?r.a.createElement("div",{className:"bg-white rounded-lg shadow-sm p-6 mt-6"},r.a.createElement("div",{className:"flex justify-between items-center mb-4"},r.a.createElement("h3",{className:"text-xl font-bold"},"Admin Panel - Location Moderation"),r.a.createElement("button",{onClick:c,className:"bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700"},"Refresh")),n?r.a.createElement("div",{className:"text-center py-8"},r.a.createElement("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),r.a.createElement("p",{className:"mt-2 text-gray-600"},"Loading submissions...")):r.a.createElement("div",{className:"space-y-4"},0===a.length?r.a.createElement("div",{className:"text-center py-8 text-gray-500"},"No pending submissions to review"):a.map(e=>r.a.createElement("div",{key:e.id,className:"border rounded-lg p-4"},r.a.createElement("div",{className:"flex justify-between items-start"},r.a.createElement("div",{className:"flex-1"},r.a.createElement("h4",{className:"font-medium"},e.name),r.a.createElement("p",{className:"text-sm text-gray-600"},e.address),r.a.createElement("p",{className:"text-sm text-gray-500 mt-1"},e.recommendation),r.a.createElement("div",{className:"flex gap-2 mt-2 flex-wrap"},r.a.createElement("span",{className:"text-xs px-2 py-1 bg-blue-100 text-blue-700 rounded"},e.type),r.a.createElement("span",{className:"text-xs px-2 py-1 bg-green-100 text-green-700 rounded"},e.priceRange),e.dietary&&r.a.createElement("span",{className:"text-xs px-2 py-1 bg-purple-100 text-purple-700 rounded"},e.dietary),r.a.createElement("span",{className:"text-xs px-2 py-1 bg-orange-100 text-orange-700 rounded"},e.mealTimes)),r.a.createElement("div",{className:"mt-2 text-sm"},r.a.createElement("p",null,r.a.createElement("strong",null,"Recommended:")," ",e.recommendedDish),r.a.createElement("p",null,r.a.createElement("strong",null,"Student Discount:")," ",e.studentDiscount)),r.a.createElement("p",{className:"text-xs text-gray-400 mt-2"},"Submitted by: ",e.submittedBy," \u2022 ",new Date(e.timestamp).toLocaleDateString())),r.a.createElement("div",{className:"flex gap-2 ml-4"},r.a.createElement("button",{onClick:()=>o(e,"approved"),className:"px-3 py-1 bg-green-600 text-white text-sm rounded hover:bg-green-700"},"Approve"),r.a.createElement("button",{onClick:()=>o(e,"rejected"),className:"px-3 py-1 bg-red-600 text-white text-sm rounded hover:bg-red-700"},"Reject"))))))):null},A=()=>{var e,a,t;const{user:n,updatePreferences:s,toggleFavorite:E}=f(),[x,v]=Object(l.useState)([]),[N,h]=Object(l.useState)({priceRange:"all",dietary:"all",mealTime:"all"}),[y,w]=Object(l.useState)(!1),[k,j]=Object(l.useState)("map"),[S,R]=Object(l.useState)(!1),[A,D]=Object(l.useState)(null),[T,I]=Object(l.useState)("location");Object(l.useEffect)(()=>{(async()=>{const e=[{id:1,name:"Restauracja Politechnika",type:"campus",priceRange:"low",dietary:["vegetarian","vegan","gluten-free"],mealTimes:["breakfast","lunch","dinner"],description:"Main campus cafeteria with daily specials and budget-friendly options.",address:"Aleje Politechniki 8, Building B9",rating:4.2,discount:"20% off with student ID",nutritionHighlights:["High protein options","Fresh salads daily"],imageUrl:"/api/placeholder/400/300",topDish:"Vegetable Curry - 8 PLN",coordinates:{lat:51.74717066396719,lng:19.453707281086025}},{id:2,name:"GI\xc0 pasta bar",type:"local",priceRange:"medium",dietary:["vegetarian","vegan"],mealTimes:["lunch","dinner"],description:"Vegetarian and vegan cafe with fresh juices and smoothies.",address:"Aleje Politechniki 1 (Nowa Sukcesja), 5 min from campus",rating:4.7,discount:"Free drink with meal purchase",nutritionHighlights:["Organic ingredients","No added sugars"],imageUrl:"/api/placeholder/400/300",topDish:"Buddha Bowl - 15 PLN",coordinates:{lat:51.749699474686125,lng:19.449647520572903}},{id:3,name:"Bar Ha Long",type:"local",priceRange:"low",dietary:["halal"],mealTimes:["breakfast","lunch"],description:"Quick and affordable snacks and light meals near Campus A.",address:"Radwanska Str 30",rating:3.9,discount:"10% off during exam weeks",nutritionHighlights:["Whole grain options","Fresh fruit available"],imageUrl:"/api/placeholder/400/300",topDish:"Indian Chicken - 10 PLN",coordinates:{lat:51.752068082781435,lng:19.451446114697674}},{id:4,name:"Serenissima Poland Sp. o.o.",type:"campus",priceRange:"medium",dietary:["vegetarian","gluten-free"],mealTimes:["lunch","dinner"],description:"Popular student hangout with comfort food and study-friendly environment.",address:"Aleje Politechniki 3a, Building C15",rating:4,discount:"Student loyalty card: buy 9 meals, get 1 free",nutritionHighlights:["Balanced meals","Local ingredients"],imageUrl:"/api/placeholder/400/300",topDish:"Quinoa Bowl - 12 PLN",coordinates:{lat:51.749031438753164,lng:19.449498397401925}},{id:5,name:"Zatoka Smaku",type:"campus",priceRange:"low",dietary:["halal","vegetarian"],mealTimes:["breakfast","lunch","dinner"],description:"Fast-casual spot with diverse options under 10 PLN.",address:"Zatoka Sportu Politechniki \u0141\xf3dzkiej, Floor 1",rating:3.7,discount:"Breakfast special: 5 PLN before 10am",nutritionHighlights:["Portion control options","Low-sodium selections"],imageUrl:"/api/placeholder/400/300",topDish:"Falafel Sandwich - 9 PLN",coordinates:{lat:51.74623336992477,lng:19.45187898413258}}];try{console.log("Loading approved locations from Google Sheets...");const a=await F.getApprovedLocations();console.log("Loaded approved locations:",a);const t=Math.max(...e.map(e=>e.id)),l=a.map(e=>Object(c.a)(Object(c.a)({},e),{},{id:e.id>t?e.id:t+e.id})),r=[...e,...l];console.log("Total locations loaded:",r.length),v(r)}catch(a){console.error("Error loading approved locations:",a),console.log("Using only sample locations"),v(e)}})()},[]),Object(l.useEffect)(()=>{console.log("=== Setting up newLocationApproved listener ===");const e=e=>{console.log("=== newLocationApproved event received ==="),console.log("Event:",e),console.log("Event detail:",e.detail);const a=e.detail;a?(console.log("New location to add:",a),v(e=>{if(e.some(e=>e.id===a.id||e.name===a.name))return console.log("Location already exists, skipping..."),e;console.log("Previous locations count:",e.length);const t=[...e,a];return console.log("Updated locations count:",t.length),t}),alert("\u2705 ".concat(a.name," has been approved and added to the locations!"))):console.error("No location data in event")};return window.addEventListener("newLocationApproved",e),console.log("Event listener added successfully"),()=>{console.log("Removing newLocationApproved listener"),window.removeEventListener("newLocationApproved",e)}},[]);const U=x.filter(e=>{if("all"!==N.priceRange&&e.priceRange!==N.priceRange)return!1;if("all"!==N.dietary&&!e.dietary.includes(N.dietary))return!1;if("all"!==N.mealTime&&!e.mealTimes.includes(N.mealTime))return!1;if(n&&n.preferences&&!y){if("all"===N.priceRange&&"all"!==n.preferences.priceRange&&e.priceRange!==n.preferences.priceRange)return!1;if("all"===N.dietary&&n.preferences.dietary&&n.preferences.dietary.length>0){if(!n.preferences.dietary.some(a=>e.dietary.includes(a)))return!1}}return!0}),B=e=>{D(e),I("location"),R(!0)},M=()=>{R(!1),D(null),I("location")};Object(l.useEffect)(()=>(window.closeModal=M,()=>{window.closeModal=null}),[]);const H=(e,a)=>{h(Object(c.a)(Object(c.a)({},N),{},{[e]:a})),"all"!==a&&w(!1)},_=()=>{window.open("https://docs.google.com/forms/d/e/1FAIpQLSe_M5wdm4E1_pEN4SNScpa3TMKuxaek90WikQd_9fycv7MHrQ/viewform?usp=dialog","_blank")};return r.a.createElement("div",{className:"flex flex-col min-h-screen bg-gray-50"},r.a.createElement("header",{className:"bg-blue-600 text-white p-4 shadow-md"},r.a.createElement("div",{className:"container mx-auto flex justify-between items-center"},r.a.createElement("div",{className:"flex items-center space-x-2"},r.a.createElement(o.a,{size:24}),r.a.createElement("h1",{className:"text-xl font-bold"},"Campus Food Finder")),r.a.createElement("div",{className:"flex items-center space-x-4"},n?r.a.createElement(r.a.Fragment,null,r.a.createElement(O,null),r.a.createElement("span",{className:"text-sm"},"Welcome, ",n.name),r.a.createElement("button",{onClick:()=>{I("profile"),R(!0)},className:"bg-white text-blue-600 font-medium px-3 py-1 rounded-lg hover:bg-blue-50 transition-colors flex items-center"},r.a.createElement(i.a,{size:16,className:"mr-1"}),"Profile")):r.a.createElement("div",{className:"space-x-2"},r.a.createElement("button",{onClick:()=>{I("login"),R(!0)},className:"bg-white text-blue-600 px-3 py-1 rounded-lg hover:bg-blue-50"},"Login"),r.a.createElement("button",{onClick:()=>{I("register"),R(!0)},className:"bg-blue-700 text-white px-3 py-1 rounded-lg hover:bg-blue-800"},"Register")),r.a.createElement("button",{onClick:_,className:"bg-white text-blue-600 font-medium px-4 py-2 rounded-lg flex items-center space-x-1 hover:bg-blue-50 transition-colors"},r.a.createElement(m.a,{size:18}),r.a.createElement("span",null,"Add Location"))))),r.a.createElement("main",{className:"flex-grow container mx-auto p-4"},r.a.createElement("div",{className:"flex border-b mb-4"},r.a.createElement("button",{className:"px-4 py-2 font-medium ".concat("map"===k?"text-blue-600 border-b-2 border-blue-600":"text-gray-600"),onClick:()=>j("map")},"Map View"),r.a.createElement("button",{className:"px-4 py-2 font-medium ".concat("list"===k?"text-blue-600 border-b-2 border-blue-600":"text-gray-600"),onClick:()=>j("list")},"List View"),r.a.createElement("button",{className:"px-4 py-2 font-medium ".concat("discount"===k?"text-blue-600 border-b-2 border-blue-600":"text-gray-600"),onClick:()=>j("discount")},"Student Discounts")),r.a.createElement("div",{className:"bg-white p-4 rounded-lg shadow-sm mb-4"},r.a.createElement("div",{className:"flex items-center space-x-1 mb-2"},r.a.createElement(d.a,{size:16,className:"text-blue-600"}),r.a.createElement("h2",{className:"font-medium"},"Filters")),r.a.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"},r.a.createElement("div",null,r.a.createElement("label",{className:"block text-sm text-gray-600 mb-1"},"Price Range"),r.a.createElement("select",{className:"w-full p-2 border rounded-md",value:N.priceRange,onChange:e=>H("priceRange",e.target.value)},r.a.createElement("option",{value:"all"},"All Prices"),r.a.createElement("option",{value:"low"},"Budget (Under 10 PLN)"),r.a.createElement("option",{value:"medium"},"Mid-Range (10-15 PLN)"),r.a.createElement("option",{value:"high"},"Premium (15+ PLN)"))),r.a.createElement("div",null,r.a.createElement("label",{className:"block text-sm text-gray-600 mb-1"},"Dietary Options"),r.a.createElement("select",{className:"w-full p-2 border rounded-md",value:N.dietary,onChange:e=>H("dietary",e.target.value)},r.a.createElement("option",{value:"all"},"All Options"),r.a.createElement("option",{value:"vegetarian"},"Vegetarian"),r.a.createElement("option",{value:"vegan"},"Vegan"),r.a.createElement("option",{value:"gluten-free"},"Gluten-Free"),r.a.createElement("option",{value:"halal"},"Halal"))),r.a.createElement("div",null,r.a.createElement("label",{className:"block text-sm text-gray-600 mb-1"},"Meal Time"),r.a.createElement("select",{className:"w-full p-2 border rounded-md",value:N.mealTime,onChange:e=>H("mealTime",e.target.value)},r.a.createElement("option",{value:"all"},"Any Time"),r.a.createElement("option",{value:"breakfast"},"Breakfast"),r.a.createElement("option",{value:"lunch"},"Lunch"),r.a.createElement("option",{value:"dinner"},"Dinner"))))),r.a.createElement("div",{className:"bg-white p-4 rounded-lg shadow-sm ".concat("map"===k?"block":"hidden")},r.a.createElement("div",{className:"text-center mb-4 text-gray-700"},r.a.createElement("p",{className:"mb-2"},"Campus Food Finder Map"),r.a.createElement("p",{className:"text-sm text-gray-500"},"Explore affordable and nutritious food options near Lodz University of Technology. Click on markers to see details about each location.")),r.a.createElement("div",{className:"mb-4 h-64",style:{height:"400px"}},r.a.createElement(b.b,{googleMapsApiKey:"AIzaSyAoyyD3kvahuQlz35-5ny91RV4Xw0S65-k"},r.a.createElement(b.a,{mapContainerStyle:{width:"100%",height:"400px"},center:{lat:51.7472620296469,lng:19.453302755355534},zoom:14,options:{disableDefaultUI:!1,zoomControl:!0,mapTypeControl:!0,streetViewControl:!1,fullscreenControl:!0}},U.map(e=>r.a.createElement(b.c,{key:e.id,position:e.coordinates,onClick:()=>B(e)}))))),r.a.createElement("h3",{className:"font-medium mb-2"},"Nearby Locations (",U.length,")"),0===U.length?r.a.createElement("div",{className:"p-8 text-center"},r.a.createElement("div",{className:"text-gray-400 mb-2"},r.a.createElement("span",{className:"text-4xl",role:"img","aria-label":"sad face"},"\ud83d\ude14")),r.a.createElement("h3",{className:"text-lg font-medium text-gray-700 mb-2"},"No locations match your preferences"),r.a.createElement("p",{className:"text-gray-500 mb-4"},"Try adjusting your filters above or updating your preferences in your profile."),r.a.createElement("button",{onClick:()=>{h({priceRange:"all",dietary:"all",mealTime:"all"}),w(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700"},"Show All Locations")):r.a.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},U.map(e=>{var a,t;return r.a.createElement("div",{key:e.id,className:"bg-white border rounded-lg shadow-sm hover:shadow-md transition-shadow cursor-pointer",onClick:()=>B(e)},r.a.createElement("div",{className:"p-3 border-b"},r.a.createElement("div",{className:"flex justify-between items-start"},r.a.createElement("div",null,r.a.createElement("h3",{className:"font-medium"},e.name),r.a.createElement("p",{className:"text-sm text-gray-500"},e.address)),r.a.createElement("div",{className:"flex flex-col items-end space-y-2"},r.a.createElement("div",{className:"flex items-center bg-blue-50 px-2 py-1 rounded text-sm"},r.a.createElement(u.a,{size:14,className:"text-yellow-500 mr-1"}),r.a.createElement("span",null,e.rating)),n&&r.a.createElement("button",{onClick:a=>{a.stopPropagation(),E(e.id)},className:"p-1 rounded-full ".concat((null===(a=n.favoriteLocations)||void 0===a?void 0:a.includes(e.id))?"text-red-500 bg-white shadow-md":"text-gray-400 bg-white shadow-md")},r.a.createElement(p.a,{size:16,fill:(null===(t=n.favoriteLocations)||void 0===t?void 0:t.includes(e.id))?"currentColor":"none"})))),r.a.createElement("div",{className:"flex mt-2 flex-wrap gap-1"},"low"===e.priceRange&&r.a.createElement("span",{className:"bg-green-100 text-green-700 text-xs px-2 py-1 rounded"},"Budget"),"medium"===e.priceRange&&r.a.createElement("span",{className:"bg-blue-100 text-blue-700 text-xs px-2 py-1 rounded"},"Mid-Range"),"high"===e.priceRange&&r.a.createElement("span",{className:"bg-red-100 text-red-700 text-xs px-2 py-1 rounded"},"Premium"),e.dietary.includes("vegetarian")&&r.a.createElement("span",{className:"bg-green-50 text-green-600 text-xs px-2 py-1 rounded"},"Vegetarian"),e.dietary.includes("vegan")&&r.a.createElement("span",{className:"bg-green-50 text-green-600 text-xs px-2 py-1 rounded"},"Vegan"),e.dietary.includes("halal")&&r.a.createElement("span",{className:"bg-purple-50 text-purple-600 text-xs px-2 py-1 rounded"},"Halal"),e.dietary.includes("gluten-free")&&r.a.createElement("span",{className:"bg-orange-50 text-orange-600 text-xs px-2 py-1 rounded"},"Gluten-Free"),e.discount&&r.a.createElement("span",{className:"bg-blue-50 text-blue-600 text-xs px-2 py-1 rounded flex items-center"},r.a.createElement("span",{className:"mr-1",role:"img","aria-label":"graduation cap"},"\ud83c\udf93")," Discount"))),r.a.createElement("div",{className:"p-3"},r.a.createElement("div",{className:"text-sm font-medium"},"Top Pick: ",e.topDish),r.a.createElement("div",{className:"text-xs text-blue-600 mt-1"},e.discount)))}))),r.a.createElement("div",{className:"bg-white rounded-lg shadow-sm ".concat("list"===k?"block":"hidden")},r.a.createElement("div",{className:"p-4 border-b"},r.a.createElement("h2",{className:"font-medium"},"All Locations (",U.length,")")),0===U.length?r.a.createElement("div",{className:"p-8 text-center"},r.a.createElement("div",{className:"text-gray-400 mb-2"},r.a.createElement("span",{className:"text-4xl",role:"img","aria-label":"sad face"},"\ud83d\ude14")),r.a.createElement("h3",{className:"text-lg font-medium text-gray-700 mb-2"},"No locations match your preferences"),r.a.createElement("p",{className:"text-gray-500 mb-4"},"Try adjusting your filters above or updating your preferences in your profile."),r.a.createElement("button",{onClick:()=>{h({priceRange:"all",dietary:"all",mealTime:"all"}),w(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700"},"Show All Locations")):r.a.createElement("div",{className:"divide-y"},U.map(e=>r.a.createElement("div",{key:e.id,className:"p-4 hover:bg-gray-50 cursor-pointer",onClick:()=>B(e)},r.a.createElement("div",{className:"flex justify-between"},r.a.createElement("div",null,r.a.createElement("h3",{className:"font-medium"},e.name),r.a.createElement("p",{className:"text-sm text-gray-500"},e.address),r.a.createElement("div",{className:"flex mt-1 flex-wrap gap-1"},"low"===e.priceRange&&r.a.createElement("span",{className:"bg-green-100 text-green-700 text-xs px-2 py-1 rounded"},"Budget"),"medium"===e.priceRange&&r.a.createElement("span",{className:"bg-blue-100 text-blue-700 text-xs px-2 py-1 rounded"},"Mid-Range"),"high"===e.priceRange&&r.a.createElement("span",{className:"bg-red-100 text-red-700 text-xs px-2 py-1 rounded"},"Premium"),e.dietary.map(e=>r.a.createElement("span",{key:e,className:"text-xs px-2 py-1 rounded ".concat("vegetarian"===e||"vegan"===e?"bg-green-50 text-green-600":"halal"===e?"bg-purple-50 text-purple-600":"gluten-free"===e?"bg-orange-50 text-orange-600":"bg-blue-50 text-blue-600")},e.charAt(0).toUpperCase()+e.slice(1).replace("-"," "))))),r.a.createElement("div",{className:"flex flex-col items-end"},r.a.createElement("div",{className:"flex items-center bg-blue-50 px-2 py-1 rounded text-sm mb-2"},r.a.createElement(u.a,{size:14,className:"text-yellow-500 mr-1"}),r.a.createElement("span",null,e.rating)),r.a.createElement("div",{className:"text-sm font-medium"},e.topDish))),r.a.createElement("div",{className:"mt-2"},r.a.createElement("p",{className:"text-sm"},e.description),e.discount&&r.a.createElement("p",{className:"text-sm text-blue-600 mt-1"},r.a.createElement("span",{className:"font-medium"},"Student Discount:")," ",e.discount)))))),r.a.createElement("div",{className:"bg-white rounded-lg shadow-sm ".concat("discount"===k?"block":"hidden")},r.a.createElement("div",{className:"p-4 border-b"},r.a.createElement("h2",{className:"font-medium"},"Student Discounts"),r.a.createElement("p",{className:"text-sm text-gray-500 mt-1"},"Special offers for students with valid ID"),n&&n.preferences&&!y&&r.a.createElement("p",{className:"text-xs text-blue-600 mt-2"},"Showing discounts matching your preferences: ","all"!==n.preferences.priceRange?"low"===n.preferences.priceRange?"budget":"medium"===n.preferences.priceRange?"mid-range":"premium":"all prices",", ",n.preferences.dietary&&n.preferences.dietary.length>0?n.preferences.dietary.join(", "):"all dietary options")),r.a.createElement("div",{className:"divide-y"},U.filter(e=>e.discount).map(e=>r.a.createElement("div",{key:e.id,className:"p-4 hover:bg-gray-50 cursor-pointer",onClick:()=>B(e)},r.a.createElement("div",{className:"flex justify-between items-start"},r.a.createElement("div",null,r.a.createElement("h3",{className:"font-medium"},e.name),r.a.createElement("p",{className:"text-sm text-gray-500"},e.address)),r.a.createElement("div",{className:"flex items-center bg-blue-50 px-2 py-1 rounded text-sm"},r.a.createElement(u.a,{size:14,className:"text-yellow-500 mr-1"}),r.a.createElement("span",null,e.rating))),r.a.createElement("div",{className:"mt-2 p-3 bg-blue-50 rounded-lg border border-blue-100"},r.a.createElement("div",{className:"flex items-start"},r.a.createElement("span",{className:"text-2xl mr-2",role:"img","aria-label":"graduation cap"},"\ud83c\udf93"),r.a.createElement("div",null,r.a.createElement("p",{className:"font-medium text-blue-700"},e.discount),r.a.createElement("p",{className:"text-sm text-blue-600 mt-1"},"Show your student ID to redeem")))),n&&n.preferences&&!y&&r.a.createElement("div",{className:"mt-2 flex flex-wrap gap-1"},"all"!==n.preferences.priceRange&&e.priceRange===n.preferences.priceRange&&r.a.createElement("span",{className:"text-xs px-2 py-1 bg-green-50 text-green-600 rounded border border-green-200"},"Matches your price preference"),n.preferences.dietary&&n.preferences.dietary.length>0&&n.preferences.dietary.some(a=>e.dietary.includes(a))&&r.a.createElement("span",{className:"text-xs px-2 py-1 bg-purple-50 text-purple-600 rounded border border-purple-200"},"Matches your dietary preferences")))),0===U.filter(e=>e.discount).length&&r.a.createElement("div",{className:"p-8 text-center"},r.a.createElement("div",{className:"text-gray-400 mb-2"},r.a.createElement("span",{className:"text-4xl",role:"img","aria-label":"sad face"},"\ud83d\ude14")),r.a.createElement("h3",{className:"text-lg font-medium text-gray-700 mb-2"},"No discounts match your preferences"),r.a.createElement("p",{className:"text-gray-500 mb-4"},"Try adjusting your filters above or updating your preferences in your profile."),r.a.createElement("button",{onClick:()=>{h({priceRange:"all",dietary:"all",mealTime:"all"}),w(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700"},"Show All Discounts"))))),r.a.createElement("section",{className:"bg-gray-100 py-6"},r.a.createElement("div",{className:"container mx-auto px-4"},r.a.createElement("div",{className:"bg-white p-6 rounded-lg shadow-sm"},r.a.createElement("h2",{className:"text-xl font-bold mb-4"},"About Campus Food Finder"),r.a.createElement("p",{className:"mb-4"},"Campus Food Finder helps university students find affordable, nutritious food options on and near campus. Our platform addresses key challenges identified in our research:"),r.a.createElement("ul",{className:"list-disc pl-5 mb-4 space-y-1"},r.a.createElement("li",null,"Budget constraints that lead to poor food choices"),r.a.createElement("li",null,"Lack of centralized information about affordable, healthy options"),r.a.createElement("li",null,"Time poverty that affects meal preparation and planning")),r.a.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6"},r.a.createElement("div",null,r.a.createElement("h3",{className:"font-medium mb-2"},"Scan our QR Code"),r.a.createElement("p",{className:"text-sm text-gray-600 mb-3"},"Save this page to your phone by scanning this QR code. Share with your friends!"),r.a.createElement("div",{className:"bg-gray-100 w-32 h-32 flex items-center justify-center rounded-lg border overflow-hidden"},r.a.createElement("img",{src:"/campus-food-finder/qr-code.png",alt:"Campus Food Finder QR Code",className:"w-full h-full object-contain p-1"}))),r.a.createElement("div",null,r.a.createElement("h3",{className:"font-medium mb-2"},"Help Us Grow"),r.a.createElement("p",{className:"text-sm text-gray-600 mb-3"},"Know a great affordable place to eat? Add it to our database!"),r.a.createElement("button",{onClick:_,className:"bg-blue-600 text-white font-medium px-4 py-2 rounded-lg flex items-center hover:bg-blue-700 transition-colors",title:"Open submission form in a new tab"},r.a.createElement(m.a,{size:18,className:"mr-1"}),r.a.createElement("span",null,"Submit New Location"))))))),r.a.createElement(z,null),r.a.createElement("footer",{className:"bg-gray-800 text-white p-4"},r.a.createElement("div",{className:"container mx-auto text-center text-sm"},r.a.createElement("p",null,"\xa9 2025 Campus Food Finder - Team Project"),r.a.createElement("p",{className:"mt-1"},"Team 7 Initiative"))),S&&r.a.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},r.a.createElement("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-2xl max-h-screen overflow-y-auto"},r.a.createElement("div",{className:"flex justify-between items-center p-4 border-b"},r.a.createElement("h2",{className:"text-xl font-bold"},"login"===T&&"Login","register"===T&&"Register","profile"===T&&"Profile","location"===T&&(null===A||void 0===A?void 0:A.name)),r.a.createElement("button",{onClick:M,className:"text-gray-500 hover:text-gray-700"},r.a.createElement(g.a,{size:24}))),r.a.createElement("div",{className:"p-4"},"login"===T&&r.a.createElement(C,{onClose:M,onSwitchToRegister:()=>I("register")}),"register"===T&&r.a.createElement(P,{onClose:M,onSwitchToLogin:()=>I("login")}),"profile"===T&&n?r.a.createElement(L,{user:n,onUpdatePreferences:e=>{s(e),w(!1)},onClose:M}):"profile"!==T||n?null:r.a.createElement("div",{className:"p-4 text-center"},r.a.createElement("p",{className:"text-gray-600"},"Please log in to view your profile"),r.a.createElement("button",{onClick:M,className:"mt-3 bg-blue-600 text-white px-4 py-2 rounded-lg"},"Close")),"location"===T&&A&&r.a.createElement("div",null,r.a.createElement("div",{className:"rounded-lg overflow-hidden h-48 bg-gray-200 mb-4"},r.a.createElement("img",{src:A.imageUrl,alt:A.name,className:"w-full h-full object-cover"})),r.a.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},r.a.createElement("div",null,r.a.createElement("div",{className:"mb-4"},r.a.createElement("h3",{className:"font-medium text-gray-700 mb-1"},"Description"),r.a.createElement("p",{className:"text-gray-600"},A.description)),r.a.createElement("div",{className:"mb-4"},r.a.createElement("h3",{className:"font-medium text-gray-700 mb-1"},"Address"),r.a.createElement("p",{className:"text-gray-600"},A.address)),r.a.createElement("div",{className:"mb-4"},r.a.createElement("h3",{className:"font-medium text-gray-700 mb-1"},"Price Range"),r.a.createElement("p",{className:"text-gray-600"},"low"===A.priceRange?"Budget-friendly (Under 10 PLN)":"medium"===A.priceRange?"Mid-range (10-15 PLN)":"Premium (15+ PLN)"))),r.a.createElement("div",null,r.a.createElement("div",{className:"mb-4"},r.a.createElement("h3",{className:"font-medium text-gray-700 mb-1"},"Nutrition Highlights"),r.a.createElement("ul",{className:"list-disc pl-5 text-gray-600"},A.nutritionHighlights.map((e,a)=>r.a.createElement("li",{key:a},e)))),r.a.createElement("div",{className:"mb-4"},r.a.createElement("h3",{className:"font-medium text-gray-700 mb-1"},"Dietary Options"),r.a.createElement("div",{className:"flex flex-wrap gap-1"},A.dietary.map(e=>r.a.createElement("span",{key:e,className:"bg-green-50 text-green-600 text-xs px-2 py-1 rounded"},e)))),r.a.createElement("div",{className:"mb-4"},r.a.createElement("h3",{className:"font-medium text-gray-700 mb-1"},"Available For"),r.a.createElement("div",{className:"flex flex-wrap gap-1"},A.mealTimes.map(e=>r.a.createElement("span",{key:e,className:"bg-blue-50 text-blue-600 text-xs px-2 py-1 rounded"},e.charAt(0).toUpperCase()+e.slice(1))))))),A.discount&&r.a.createElement("div",{className:"mt-2 p-4 bg-blue-50 rounded-lg border border-blue-100"},r.a.createElement("div",{className:"flex items-start"},r.a.createElement("span",{className:"text-2xl mr-2",role:"img","aria-label":"graduation cap"},"\ud83c\udf93"),r.a.createElement("div",null,r.a.createElement("h3",{className:"font-medium text-blue-700"},"Student Discount"),r.a.createElement("p",{className:"text-blue-600"},A.discount),r.a.createElement("p",{className:"text-sm text-blue-500 mt-1"},"Show your student ID to redeem")))),r.a.createElement("div",{className:"mt-4"},r.a.createElement("h3",{className:"font-medium text-gray-700 mb-2"},"Recommended Items"),r.a.createElement("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200"},r.a.createElement("div",{className:"font-medium"},A.topDish),r.a.createElement("p",{className:"text-sm text-gray-500 mt-1"},"Student favorite"))),r.a.createElement("div",{className:"mt-4 flex items-center justify-between"},r.a.createElement("div",{className:"flex items-center bg-blue-50 px-3 py-2 rounded"},r.a.createElement(u.a,{size:18,className:"text-yellow-500 mr-1"}),r.a.createElement("span",{className:"font-medium"},A.rating),r.a.createElement("span",{className:"text-gray-500 text-sm ml-2"},"Student Rating")),n&&r.a.createElement("button",{onClick:()=>E(A.id),className:"flex items-center px-3 py-2 rounded-lg ".concat((null===(e=n.favoriteLocations)||void 0===e?void 0:e.includes(A.id))?"bg-red-50 text-red-600":"bg-gray-50 text-gray-600")},r.a.createElement(p.a,{size:18,className:"mr-1",fill:(null===(a=n.favoriteLocations)||void 0===a?void 0:a.includes(A.id))?"currentColor":"none"}),(null===(t=n.favoriteLocations)||void 0===t?void 0:t.includes(A.id))?"Remove from Favorites":"Add to Favorites")))),r.a.createElement("div",{className:"p-4 border-t bg-gray-50"},r.a.createElement("button",{onClick:M,className:"w-full bg-blue-600 text-white font-medium py-2 rounded-lg hover:bg-blue-700 transition-colors"},"Close")))))};var D=()=>r.a.createElement(v,null,r.a.createElement(A,null));var T=e=>{e&&e instanceof Function&&t.e(3).then(t.bind(null,35)).then(a=>{let{getCLS:t,getFID:l,getFCP:r,getLCP:n,getTTFB:s}=a;t(e),l(e),r(e),n(e),s(e)})};s.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(D,null))),T()}},[[10,1,2]]]);
//# sourceMappingURL=main.98792a2d.chunk.js.map