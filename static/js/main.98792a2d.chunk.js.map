{"version":3,"sources":["AuthContext.js","AuthComponents.js","NotificationComponents.js","GoogleSheetsAPI.js","AdminComponents.js","App.js","reportWebVitals.js","index.js"],"names":["AuthContext","createContext","useAuth","context","useContext","Error","mockUsers","id","email","password","name","role","preferences","dietary","priceRange","notifications","favoriteLocations","AuthProvider","_ref","children","user","setUser","useState","loading","setLoading","useEffect","savedUser","localStorage","getItem","JSON","parse","value","login","async","foundUser","find","u","userWithoutPassword","_objectSpread","setItem","stringify","success","error","register","newUser","Date","now","userData","logout","removeItem","window","closeModal","updatePreferences","newPreferences","updatedUser","toggleFavorite","locationId","favorites","newFavorites","includes","filter","React","createElement","Provider","LoginForm","onClose","onSwitchToRegister","setEmail","setPassword","setError","className","Mail","size","type","onChange","e","target","placeholder","Lock","onClick","result","disabled","Fragment","LogIn","RegisterForm","_ref2","onSwitchToLogin","formData","setFormData","confirmPassword","fieldErrors","setFieldErrors","validateField","fieldName","errors","trim","length","endsWith","replace","User","concat","test","UserPlus","UserProfile","_ref3","onUpdatePreferences","showAllDiscounts","setPreferences","map","diet","key","checked","d","Bell","handleSave","LogOut","NotificationSystem","setNotifications","showNotifications","setShowNotifications","title","message","read","timestamp","unreadCount","n","X","notification","markAsRead","prev","notif","toLocaleTimeString","GOOGLE_SCRIPT_URL","GoogleSheetsAPI","response","fetch","json","submissions","console","locations","rowId","status","reviewedBy","arguments","undefined","url","method","data","approvedLocation","AdminPanel","pendingSubmissions","setPendingSubmissions","loadPendingSubmissions","getPendingSubmissions","handleApproval","submission","action","log","updateSubmissionStatus","s","addToMainLocationsList","alert","newLocation","event","CustomEvent","detail","dispatchEvent","address","recommendation","mealTimes","recommendedDish","studentDiscount","submittedBy","toLocaleDateString","CampusFoodFinder","_user$favoriteLocatio3","_user$favoriteLocatio4","_user$favoriteLocatio5","setLocations","filters","setFilters","mealTime","setShowAllDiscounts","activeTab","setActiveTab","showModal","setShowModal","selectedLocation","setSelectedLocation","modalType","setModalType","sampleLocations","description","rating","discount","nutritionHighlights","imageUrl","topDish","coordinates","lat","lng","approvedLocations","getApprovedLocations","maxSampleId","Math","max","loc","processedApprovedLocations","allLocations","loadAllLocations","handleNewLocationApproved","prevLocations","some","updatedLocations","addEventListener","removeEventListener","filteredLocations","location","openLocationDetail","handleFilterChange","filterType","openSubmissionForm","open","MapPin","Settings","Plus","Filter","style","height","LoadScript","googleMapsApiKey","GoogleMap","mapContainerStyle","width","center","zoom","options","disableDefaultUI","zoomControl","mapTypeControl","streetViewControl","fullscreenControl","Marker","position","aria-label","_user$favoriteLocatio","_user$favoriteLocatio2","Star","stopPropagation","Heart","fill","charAt","toUpperCase","slice","join","src","process","alt","highlight","index","time","AppWithAuth","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","document","getElementById","render","StrictMode","App"],"mappings":"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","file":"static/js/main.98792a2d.chunk.js","sourcesContent":["import React, { createContext, useContext, useState, useEffect } from 'react';\r\n\r\nconst AuthContext = createContext();\r\n\r\nexport const useAuth = () => {\r\n  const context = useContext(AuthContext);\r\n  if (!context) {\r\n    throw new Error('useAuth must be used within an AuthProvider');\r\n  }\r\n  return context;\r\n};\r\n\r\nconst mockUsers = [\r\n  {\r\n    id: 1,\r\n    email: '111111@edu.p.lodz.pl',\r\n    password: 'password123',\r\n    name: 'John Doe',\r\n    role: 'student',\r\n    preferences: {\r\n      dietary: ['vegetarian'],\r\n      priceRange: 'low',\r\n      notifications: true\r\n    },\r\n    favoriteLocations: [1, 3]\r\n  },\r\n  {\r\n    id: 2,\r\n    email: 'admin@edu.p.lodz.pl',\r\n    password: 'admin123',\r\n    name: 'Admin User',\r\n    role: 'admin',\r\n    preferences: {\r\n      dietary: [],\r\n      priceRange: 'all',\r\n      notifications: true\r\n    },\r\n    favoriteLocations: []\r\n  }\r\n];\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n  const [user, setUser] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const savedUser = localStorage.getItem('campusFoodFinder_user');\r\n    if (savedUser) {\r\n      setUser(JSON.parse(savedUser));\r\n    }\r\n    setLoading(false);\r\n  }, []);\r\n\r\n  const login = async (email, password) => {\r\n    const foundUser = mockUsers.find(u => u.email === email && u.password === password);\r\n    if (foundUser) {\r\n      const userWithoutPassword = { ...foundUser };\r\n      delete userWithoutPassword.password;\r\n      setUser(userWithoutPassword);\r\n      localStorage.setItem('campusFoodFinder_user', JSON.stringify(userWithoutPassword));\r\n      return { success: true };\r\n    }\r\n    return { success: false, error: 'Invalid credentials' };\r\n  };\r\n\r\n  const register = async (userData) => {\r\n    const newUser = {\r\n      id: Date.now(),\r\n      ...userData,\r\n      role: 'student',\r\n      preferences: {\r\n        dietary: [],\r\n        priceRange: 'all',\r\n        notifications: true\r\n      },\r\n      favoriteLocations: []\r\n    };\r\n    \r\n    const userWithoutPassword = { ...newUser };\r\n    delete userWithoutPassword.password;\r\n    setUser(userWithoutPassword);\r\n    localStorage.setItem('campusFoodFinder_user', JSON.stringify(userWithoutPassword));\r\n    return { success: true };\r\n  };\r\n\r\n\tconst logout = () => {\r\n\t  setUser(null);\r\n\t  localStorage.removeItem('campusFoodFinder_user');\r\n\r\n\t  if (window.closeModal) {\r\n\t\twindow.closeModal();\r\n\t  }\r\n\t};\r\n\r\n  const updatePreferences = (newPreferences) => {\r\n    const updatedUser = { ...user, preferences: { ...user.preferences, ...newPreferences } };\r\n    setUser(updatedUser);\r\n    localStorage.setItem('campusFoodFinder_user', JSON.stringify(updatedUser));\r\n  };\r\n\r\n  const toggleFavorite = (locationId) => {\r\n    if (!user) return;\r\n    \r\n    const favorites = user.favoriteLocations || [];\r\n    const newFavorites = favorites.includes(locationId)\r\n      ? favorites.filter(id => id !== locationId)\r\n      : [...favorites, locationId];\r\n    \r\n    const updatedUser = { ...user, favoriteLocations: newFavorites };\r\n    setUser(updatedUser);\r\n    localStorage.setItem('campusFoodFinder_user', JSON.stringify(updatedUser));\r\n  };\r\n\r\n  const value = {\r\n    user,\r\n    login,\r\n    register,\r\n    logout,\r\n    updatePreferences,\r\n    toggleFavorite,\r\n    loading\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider value={value}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};","import React, { useState } from 'react';\r\nimport { User, Mail, Lock, UserPlus, LogIn, LogOut, Bell } from 'lucide-react';\r\nimport { useAuth } from './AuthContext';\r\n\r\nexport const LoginForm = ({ onClose, onSwitchToRegister }) => {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const { login } = useAuth();\r\n\r\n  const handleSubmit = async () => {\r\n    setLoading(true);\r\n    setError('');\r\n\r\n    const result = await login(email, password);\r\n    if (result.success) {\r\n      onClose();\r\n    } else {\r\n      setError(result.error);\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"w-full max-w-md mx-auto p-6 bg-white rounded-lg\">\r\n      <h2 className=\"text-2xl font-bold mb-6 text-center\">Login to Campus Food Finder</h2>\r\n      \r\n      <div className=\"space-y-4\">\r\n        <div>\r\n          <label className=\"block text-sm font-medium mb-2\">University Email</label>\r\n          <div className=\"relative\">\r\n            <Mail size={20} className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" />\r\n            <input\r\n              type=\"email\"\r\n              value={email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n              className=\"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n              placeholder=\"123456@edu.p.lodz.pl\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div>\r\n          <label className=\"block text-sm font-medium mb-2\">Password</label>\r\n          <div className=\"relative\">\r\n            <Lock size={20} className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" />\r\n            <input\r\n              type=\"password\"\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n              className=\"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n              placeholder=\"Password\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {error && (\r\n          <div className=\"p-3 bg-red-50 border border-red-200 rounded-lg text-red-700\">\r\n            {error}\r\n          </div>\r\n        )}\r\n\r\n        <button\r\n          onClick={handleSubmit}\r\n          disabled={loading}\r\n          className=\"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center\"\r\n        >\r\n          {loading ? (\r\n            <div className=\"animate-spin rounded-full h-5 w-5 border-b-2 border-white\"></div>\r\n          ) : (\r\n            <>\r\n              <LogIn size={20} className=\"mr-2\" />\r\n              Login\r\n            </>\r\n          )}\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"mt-6 text-center\">\r\n        <p className=\"text-gray-600\">\r\n          Don't have an account?{' '}\r\n          <button\r\n            onClick={onSwitchToRegister}\r\n            className=\"text-blue-600 hover:underline font-medium\"\r\n          >\r\n            Register here\r\n          </button>\r\n        </p>\r\n      </div>\r\n\r\n      <div className=\"mt-4 p-3 bg-gray-50 rounded-lg text-sm text-gray-600\">\r\n        <p><strong>Demo Credentials:</strong></p>\r\n        <p>Student: 111111@edu.p.lodz.pl / password123</p>\r\n        <p>Admin: admin@edu.p.lodz.pl / admin123</p>\r\n\t\t<p className=\"text-xs mt-1 text-gray-500\">Format: 123456@edu.p.lodz.pl</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const RegisterForm = ({ onClose, onSwitchToLogin }) => {\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    email: '',\r\n    password: '',\r\n    confirmPassword: ''\r\n  });\r\n  const [error, setError] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [fieldErrors, setFieldErrors] = useState({});\r\n  const { register } = useAuth();\r\n\r\n  const validateField = (fieldName, value) => {\r\n    const errors = { ...fieldErrors };\r\n    \r\n    switch (fieldName) {\r\n      case 'name':\r\n        if (!value.trim()) {\r\n          errors.name = 'Name is required';\r\n        } else if (value.trim().length < 2) {\r\n          errors.name = 'Name must be at least 2 characters';\r\n        } else {\r\n          delete errors.name;\r\n        }\r\n        break;\r\n        \r\n      case 'email':\r\n        if (!value.trim()) {\r\n          errors.email = 'Email is required';\r\n        } else if (!value.endsWith('@edu.p.lodz.pl')) {\r\n          errors.email = 'Must end with @edu.p.lodz.pl';\r\n        } else if (!value.replace('@edu.p.lodz.pl', '').length) {\r\n          errors.email = 'Invalid email format';\r\n        } else {\r\n          delete errors.email;\r\n        }\r\n        break;\r\n        \r\n      case 'password':\r\n        if (value.length < 6) {\r\n          errors.password = 'Password must be at least 6 characters';\r\n        } else {\r\n          delete errors.password;\r\n        }\r\n        break;\r\n        \r\n      case 'confirmPassword':\r\n        if (value !== formData.password) {\r\n          errors.confirmPassword = 'Passwords do not match';\r\n        } else {\r\n          delete errors.confirmPassword;\r\n        }\r\n        break;\r\n        \r\n      default:\r\n        break;\r\n    }\r\n    \r\n    setFieldErrors(errors);\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    setLoading(true);\r\n    setError('');\r\n\r\n    if (!formData.name || formData.name.trim().length === 0) {\r\n      setError('Full name is required');\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    if (formData.name.trim().length < 2) {\r\n      setError('Full name must be at least 2 characters long');\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    if (!formData.email || formData.email.trim().length === 0) {\r\n      setError('University email is required');\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    if (!formData.email.endsWith('@edu.p.lodz.pl')) {\r\n      setError('Please use your university email ending with @edu.p.lodz.pl');\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    const emailPrefix = formData.email.replace('@edu.p.lodz.pl', '');\r\n    if (emailPrefix.length === 0) {\r\n      setError('Invalid email format');\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    const emailRegex = /^[a-zA-Z0-9._-]+@edu\\.p\\.lodz\\.pl$/;\r\n    if (!emailRegex.test(formData.email)) {\r\n      setError('Invalid email format. Use format: 123456@edu.p.lodz.pl');\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    if (formData.password.length < 6) {\r\n      setError('Password must be at least 6 characters');\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    if (formData.password !== formData.confirmPassword) {\r\n      setError('Passwords do not match');\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    const result = await register(formData);\r\n    if (result.success) {\r\n      onClose();\r\n    } else {\r\n      setError(result.error);\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"w-full max-w-md mx-auto p-6 bg-white rounded-lg\">\r\n      <h2 className=\"text-2xl font-bold mb-6 text-center\">Register for Campus Food Finder</h2>\r\n      \r\n      <div className=\"space-y-4\">\r\n        <div>\r\n\t\t  <label className=\"block text-sm font-medium mb-2\">Full Name</label>\r\n\t\t  <div className=\"relative\">\r\n\t\t\t<User size={20} className=\"absolute left-3 top-3 text-gray-400\" />\r\n\t\t\t<input\r\n\t\t\t  type=\"text\"\r\n\t\t\t  value={formData.name}\r\n\t\t\t  onChange={(e) => {\r\n\t\t\t\tconst value = e.target.value;\r\n\t\t\t\tsetFormData({...formData, name: value});\r\n\t\t\t\tvalidateField('name', value);\r\n\t\t\t  }}\r\n\t\t\t  className={`w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 ${\r\n\t\t\t\tfieldErrors.name ? 'border-red-500 focus:ring-red-500' : 'focus:ring-blue-500'\r\n\t\t\t  }`}\r\n\t\t\t  placeholder=\"John Doe\"\r\n\t\t\t/>\r\n\t\t  </div>\r\n\t\t  <div className=\"h-5 mt-1\">\r\n\t\t\t{fieldErrors.name && (\r\n\t\t\t  <p className=\"text-red-500 text-xs\">{fieldErrors.name}</p>\r\n\t\t\t)}\r\n\t\t  </div>\r\n\t\t</div>\r\n\r\n        <div>\r\n\t\t  <label className=\"block text-sm font-medium mb-2\">University Email</label>\r\n\t\t  <div className=\"relative\">\r\n\t\t\t<Mail size={20} className=\"absolute left-3 top-3 text-gray-400\" />\r\n\t\t\t<input\r\n\t\t\t  type=\"email\"\r\n\t\t\t  value={formData.email}\r\n\t\t\t  onChange={(e) => {\r\n\t\t\t\tconst value = e.target.value;\r\n\t\t\t\tsetFormData({...formData, email: value});\r\n\t\t\t\tvalidateField('email', value);\r\n\t\t\t  }}\r\n\t\t\t  className={`w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 ${\r\n\t\t\t\tfieldErrors.email ? 'border-red-500 focus:ring-red-500' : 'focus:ring-blue-500'\r\n\t\t\t  }`}\r\n\t\t\t  placeholder=\"123456@edu.p.lodz.pl\"\r\n\t\t\t/>\r\n\t\t  </div>\r\n\t\t  <div className=\"h-5 mt-1\">\r\n\t\t\t{fieldErrors.email && (\r\n\t\t\t  <p className=\"text-red-500 text-xs\">{fieldErrors.email}</p>\r\n\t\t\t)}\r\n\t\t  </div>\r\n\t\t</div>\r\n\r\n        <div>\r\n\t\t  <label className=\"block text-sm font-medium mb-2\">Password</label>\r\n\t\t  <div className=\"relative\">\r\n\t\t\t<Lock size={20} className=\"absolute left-3 top-3 text-gray-400\" />\r\n\t\t\t<input\r\n\t\t\t  type=\"password\"\r\n\t\t\t  value={formData.password}\r\n\t\t\t  onChange={(e) => {\r\n\t\t\t\tconst value = e.target.value;\r\n\t\t\t\tsetFormData({...formData, password: value});\r\n\t\t\t\tvalidateField('password', value);\r\n\t\t\t  }}\r\n\t\t\t  className={`w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 ${\r\n\t\t\t\tfieldErrors.password ? 'border-red-500 focus:ring-red-500' : 'focus:ring-blue-500'\r\n\t\t\t  }`}\r\n\t\t\t  placeholder=\"Password (min 6 characters)\"\r\n\t\t\t/>\r\n\t\t  </div>\r\n\t\t  <div className=\"h-5 mt-1\">\r\n\t\t\t{fieldErrors.password && (\r\n\t\t\t  <p className=\"text-red-500 text-xs\">{fieldErrors.password}</p>\r\n\t\t\t)}\r\n\t\t  </div>\r\n\t\t</div>\r\n\r\n        <div>\r\n\t\t  <label className=\"block text-sm font-medium mb-2\">Confirm Password</label>\r\n\t\t  <div className=\"relative\">\r\n\t\t\t<Lock size={20} className=\"absolute left-3 top-3 text-gray-400\" />\r\n\t\t\t<input\r\n\t\t\t  type=\"password\"\r\n\t\t\t  value={formData.confirmPassword}\r\n\t\t\t  onChange={(e) => {\r\n\t\t\t\tconst value = e.target.value;\r\n\t\t\t\tsetFormData({...formData, confirmPassword: value});\r\n\t\t\t\tvalidateField('confirmPassword', value);\r\n\t\t\t  }}\r\n\t\t\t  className={`w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 ${\r\n\t\t\t\tfieldErrors.confirmPassword ? 'border-red-500 focus:ring-red-500' : 'focus:ring-blue-500'\r\n\t\t\t  }`}\r\n\t\t\t  placeholder=\"Confirm Password\"\r\n\t\t\t/>\r\n\t\t  </div>\r\n\t\t  <div className=\"h-5 mt-1\">\r\n\t\t\t{fieldErrors.confirmPassword && (\r\n\t\t\t  <p className=\"text-red-500 text-xs\">{fieldErrors.confirmPassword}</p>\r\n\t\t\t)}\r\n\t\t  </div>\r\n\t\t</div>\r\n\r\n        {error && (\r\n          <div className=\"p-3 bg-red-50 border border-red-200 rounded-lg text-red-700\">\r\n            {error}\r\n          </div>\r\n        )}\r\n\r\n        <button\r\n          onClick={handleSubmit}\r\n          disabled={loading}\r\n          className=\"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center\"\r\n        >\r\n          {loading ? (\r\n            <div className=\"animate-spin rounded-full h-5 w-5 border-b-2 border-white\"></div>\r\n          ) : (\r\n            <>\r\n              <UserPlus size={20} className=\"mr-2\" />\r\n              Register\r\n            </>\r\n          )}\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"mt-6 text-center\">\r\n        <p className=\"text-gray-600\">\r\n          Already have an account?{' '}\r\n          <button\r\n            onClick={onSwitchToLogin}\r\n            className=\"text-blue-600 hover:underline font-medium\"\r\n          >\r\n            Login here\r\n          </button>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const UserProfile = ({ user, onUpdatePreferences, onClose, showAllDiscounts }) => {\r\n  const [preferences, setPreferences] = useState(user.preferences);\r\n  const { logout } = useAuth();\r\n\r\n  const handleSave = () => {\r\n    onUpdatePreferences(preferences);\r\n    onClose();\r\n  };\r\n\r\n  return (\r\n    <div className=\"w-full max-w-md mx-auto p-6 bg-white rounded-lg\">\r\n      <h2 className=\"text-2xl font-bold mb-6\">User Profile</h2>\r\n      \r\n      {/* Add this warning when showAllDiscounts is active */}\r\n      {showAllDiscounts && (\r\n        <div className=\"mb-4 p-3 bg-orange-50 border border-orange-200 rounded-lg\">\r\n          <p className=\"text-sm text-orange-700\">\r\n            <strong>Note:</strong> Your preferences are currently overridden to show all locations. \r\n            Update your preferences below to apply filtering again.\r\n          </p>\r\n        </div>\r\n      )}\r\n      \r\n      <div className=\"mb-6\">\r\n        <div className=\"flex items-center mb-4\">\r\n          <User size={24} className=\"text-blue-600 mr-3\" />\r\n          <div>\r\n            <p className=\"font-medium\">{user.name}</p>\r\n            <p className=\"text-sm text-gray-600\">{user.email}</p>\r\n            <p className=\"text-xs text-gray-500 capitalize\">{user.role}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"mb-6\">\r\n        <h3 className=\"font-medium mb-3\">Food Preferences</h3>\r\n        \r\n        <div className=\"mb-4\">\r\n          <label className=\"block text-sm font-medium mb-2\">Preferred Price Range</label>\r\n          <select\r\n            value={preferences.priceRange}\r\n            onChange={(e) => setPreferences({...preferences, priceRange: e.target.value})}\r\n            className={`w-full p-2 border rounded-lg ${showAllDiscounts ? 'border-orange-300 bg-orange-50' : ''}`}\r\n          >\r\n            <option value=\"all\">All Prices</option>\r\n            <option value=\"low\">Budget (Under 10 PLN)</option>\r\n            <option value=\"medium\">Mid-Range (10-15 PLN)</option>\r\n            <option value=\"high\">Premium (15+ PLN)</option>\r\n          </select>\r\n          {showAllDiscounts && (\r\n            <p className=\"text-xs text-orange-600 mt-1\">Currently showing all prices regardless of this setting</p>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"mb-4\">\r\n          <label className=\"block text-sm font-medium mb-2\">Dietary Preferences</label>\r\n          <div className=\"space-y-2\">\r\n            {['vegetarian', 'vegan', 'gluten-free', 'halal'].map(diet => (\r\n              <label key={diet} className=\"flex items-center\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={preferences.dietary.includes(diet)}\r\n                  onChange={(e) => {\r\n                    if (e.target.checked) {\r\n                      setPreferences({\r\n                        ...preferences,\r\n                        dietary: [...preferences.dietary, diet]\r\n                      });\r\n                    } else {\r\n                      setPreferences({\r\n                        ...preferences,\r\n                        dietary: preferences.dietary.filter(d => d !== diet)\r\n                      });\r\n                    }\r\n                  }}\r\n                  className={`mr-2 ${showAllDiscounts ? 'accent-orange-500' : ''}`}\r\n                />\r\n                <span className={`capitalize ${showAllDiscounts ? 'text-orange-700' : ''}`}>\r\n                  {diet.replace('-', ' ')}\r\n                </span>\r\n              </label>\r\n            ))}\r\n          </div>\r\n          {showAllDiscounts && (\r\n            <p className=\"text-xs text-orange-600 mt-1\">Currently showing all dietary options regardless of these settings</p>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"mb-6\">\r\n          <label className=\"flex items-center\">\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={preferences.notifications}\r\n              onChange={(e) => setPreferences({...preferences, notifications: e.target.checked})}\r\n              className=\"mr-2\"\r\n            />\r\n            <Bell size={16} className=\"mr-1\" />\r\n            <span>Enable notifications for new discounts</span>\r\n          </label>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"flex space-x-3\">\r\n        <button\r\n          onClick={handleSave}\r\n          className=\"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700\"\r\n        >\r\n          Save Changes\r\n        </button>\r\n        <button\r\n          onClick={logout}\r\n          className=\"flex-1 bg-gray-600 text-white py-2 px-4 rounded-lg hover:bg-gray-700 flex items-center justify-center\"\r\n        >\r\n          <LogOut size={16} className=\"mr-1\" />\r\n          Logout\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};","import React, { useState, useEffect } from 'react';\r\nimport { Bell, X } from 'lucide-react';\r\nimport { useAuth } from './AuthContext';\r\n\r\nexport const NotificationSystem = () => {\r\n  const { user } = useAuth();\r\n  const [notifications, setNotifications] = useState([]);\r\n  const [showNotifications, setShowNotifications] = useState(false);\r\n\r\n  useEffect(() => {\r\n\t  //Only show notifications for demo student user\r\n\t  if (user && user.preferences.notifications && user.email === '111111@edu.p.lodz.pl') {\r\n\t\tif (notifications.length === 0) {\r\n\t\t  setNotifications([\r\n\t\t\t{\r\n\t\t\t  id: 1,\r\n\t\t\t  title: \"New Discount at GIÀ pasta bar!\",\r\n\t\t\t  message: \"20% off all pasta dishes today for students\",\r\n\t\t\t  type: \"discount\",\r\n\t\t\t  read: false,\r\n\t\t\t  timestamp: new Date(Date.now() - 1000 * 60 * 30) \r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t  id: 2,\r\n\t\t\t  title: \"New vegetarian option available\",\r\n\t\t\t  message: \"Bar Ha Long now offers vegetarian spring rolls\",\r\n\t\t\t  type: \"new_option\",\r\n\t\t\t  read: false,\r\n\t\t\t  timestamp: new Date(Date.now() - 1000 * 60 * 60 * 2) \r\n\t\t\t}\r\n\t\t  ]);\r\n\t\t}\r\n\t  } else if (!user || user.email !== '111111@edu.p.lodz.pl') {\r\n\t\tsetNotifications([]);\r\n\t  }\r\n\t}, [user, notifications.length]); \r\n\r\n  const markAsRead = (id) => {\r\n    setNotifications(prev => \r\n      prev.map(notif => \r\n        notif.id === id ? { ...notif, read: true } : notif\r\n      )\r\n    );\r\n  };\r\n\r\n  const unreadCount = user.preferences.notifications ? notifications.filter(n => !n.read).length : 0;\r\n\r\n  if (!user) return null;\r\n\r\n  return (\r\n    <div className=\"relative\">\r\n      <button \r\n        onClick={() => setShowNotifications(!showNotifications)}\r\n        className=\"relative p-2 text-white hover:bg-blue-700 rounded-lg\"\r\n      >\r\n        <Bell size={20} />\r\n        {unreadCount > 0 && (\r\n          <span className=\"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center\">\r\n            {unreadCount}\r\n          </span>\r\n        )}\r\n      </button>\r\n      \r\n      {showNotifications && (\r\n        <div className=\"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg border z-50\">\r\n          <div className=\"p-4 border-b flex justify-between items-center\">\r\n            <h3 className=\"font-medium text-gray-900\">Notifications</h3>\r\n            <button \r\n              onClick={() => setShowNotifications(false)}\r\n              className=\"text-gray-500 hover:text-gray-700\"\r\n            >\r\n              <X size={16} />\r\n            </button>\r\n          </div>\r\n          <div className=\"max-h-64 overflow-y-auto\">\r\n\t\t  {!user.preferences.notifications ? (\r\n\t\t\t<div className=\"p-4 text-center text-gray-500\">\r\n\t\t\t  <p className=\"text-sm\">Notifications are disabled</p>\r\n\t\t\t  <p className=\"text-xs mt-1\">Enable them in your profile to receive updates</p>\r\n\t\t\t</div>\r\n\t\t  ) : notifications.length === 0 ? (\r\n\t\t\t<div className=\"p-4 text-center text-gray-500\">\r\n\t\t\t  No notifications yet\r\n\t\t\t</div>\r\n\t\t  ) : (\r\n              notifications.map(notification => (\r\n                <div\r\n                  key={notification.id}\r\n                  className={`p-4 border-b hover:bg-gray-50 cursor-pointer ${\r\n                    !notification.read ? 'bg-blue-50' : ''\r\n                  }`}\r\n                  onClick={() => markAsRead(notification.id)}\r\n                >\r\n                  <div className=\"flex justify-between items-start\">\r\n                    <div className=\"flex-1\">\r\n                      <h4 className=\"font-medium text-sm text-gray-900\">{notification.title}</h4>\r\n                      <p className=\"text-sm text-gray-700 mt-1\">{notification.message}</p>\r\n                      <p className=\"text-xs text-gray-400 mt-2\">\r\n                        {notification.timestamp.toLocaleTimeString()}\r\n                      </p>\r\n                    </div>\r\n                    {!notification.read && (\r\n                      <div className=\"w-2 h-2 bg-blue-500 rounded-full ml-2 flex-shrink-0\"></div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              ))\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};","const GOOGLE_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbzW29Q_796NhbF32lcZknKjBkKutimAr7_2yngEZFaeJNktOIZe-G47hhx5JBX53L4/exec';\r\n\r\nexport const GoogleSheetsAPI = {\r\n  async getPendingSubmissions() {\r\n    try {\r\n      const response = await fetch(`${GOOGLE_SCRIPT_URL}?action=getPendingSubmissions`);\r\n      const data = await response.json();\r\n      return data.submissions || [];\r\n    } catch (error) {\r\n      console.error('Error fetching submissions:', error);\r\n      return [];\r\n    }\r\n  },\r\n\r\n  async getApprovedLocations() {\r\n    try {\r\n      const response = await fetch(`${GOOGLE_SCRIPT_URL}?action=getApprovedLocations`);\r\n      const data = await response.json();\r\n      return data.locations || [];\r\n    } catch (error) {\r\n      console.error('Error fetching approved locations:', error);\r\n      return [];\r\n    }\r\n  },\r\n\r\n  async updateSubmissionStatus(rowId, status, reviewedBy = 'admin') {\r\n    try {\r\n      const url = `${GOOGLE_SCRIPT_URL}?action=updateSubmissionStatus&rowId=${rowId}&status=${status}&reviewedBy=${reviewedBy}`;\r\n      const response = await fetch(url, { method: 'POST' });\r\n      const data = await response.json();\r\n      return {\r\n        success: data.success,\r\n        approvedLocation: data.approvedLocation\r\n      };\r\n    } catch (error) {\r\n      console.error('Error updating submission status:', error);\r\n      return { success: false };\r\n    }\r\n  }\r\n};","import React, { useState, useEffect } from 'react';\r\nimport { useAuth } from './AuthContext';\r\nimport { GoogleSheetsAPI } from './GoogleSheetsAPI';\r\n\r\nexport const AdminPanel = () => {\r\n  const { user } = useAuth();\r\n  const [pendingSubmissions, setPendingSubmissions] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (user && user.role === 'admin') {\r\n      loadPendingSubmissions();\r\n    }\r\n  }, [user]);\r\n\r\n  const loadPendingSubmissions = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const submissions = await GoogleSheetsAPI.getPendingSubmissions();\r\n      setPendingSubmissions(submissions);\r\n    } catch (error) {\r\n      console.error('Error loading submissions:', error);\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  const handleApproval = async (submission, action) => {\r\n\t  try {\r\n\t\tconsole.log('=== Starting approval process ===');\r\n\t\tconsole.log('Submission:', submission);\r\n\t\tconsole.log('Action:', action);\r\n\t\tconsole.log('User email:', user.email);\r\n\t\t\r\n\t\tconst result = await GoogleSheetsAPI.updateSubmissionStatus(\r\n\t\t  submission.id, \r\n\t\t  action, \r\n\t\t  user.email\r\n\t\t);\r\n\t\t\r\n\t\tconsole.log('=== API Response ===');\r\n\t\tconsole.log('Full result:', result);\r\n\t\tconsole.log('Result success:', result.success);\r\n\t\tconsole.log('Approved location:', result.approvedLocation);\r\n\t\t\r\n\t\tif (result.success) {\r\n\t\t  setPendingSubmissions(prev => \r\n\t\t\tprev.filter(s => s.id !== submission.id)\r\n\t\t  );\r\n\t\t  \r\n\t\t  if (action === 'approved') {\r\n\t\t\tif (result.approvedLocation) {\r\n\t\t\t  console.log('=== Adding to main locations list ===');\r\n\t\t\t  console.log('Location to add:', result.approvedLocation);\r\n\t\t\t  \r\n\t\t\t  addToMainLocationsList(result.approvedLocation);\r\n\t\t\t} else {\r\n\t\t\t  console.error('=== NO APPROVED LOCATION IN RESULT ===');\r\n\t\t\t  alert(`✅ ${submission.name} has been approved, but location data is missing.`);\r\n\t\t\t}\r\n\t\t  } else {\r\n\t\t\talert(`${submission.name} has been rejected.`);\r\n\t\t  }\r\n\t\t} else {\r\n\t\t  console.error('=== UPDATE FAILED ===');\r\n\t\t  console.error('Error:', result.error);\r\n\t\t  alert(`Error: ${result.error || 'Unknown error occurred'}`);\r\n\t\t  loadPendingSubmissions();\r\n\t\t}\r\n\t  } catch (error) {\r\n\t\tconsole.error('=== EXCEPTION IN APPROVAL ===');\r\n\t\tconsole.error('Error:', error);\r\n\t\talert('Error processing request. Please try refreshing the page.');\r\n\t\tloadPendingSubmissions();\r\n\t  }\r\n\t};\r\n\r\n\tconst addToMainLocationsList = (newLocation) => {\r\n\t  console.log('=== Dispatching newLocationApproved event ===');\r\n\t  console.log('Event data:', newLocation);\r\n\t  \r\n\t  const event = new CustomEvent('newLocationApproved', {\r\n\t\tdetail: newLocation\r\n\t  });\r\n\t  \r\n\t  console.log('Event created:', event);\r\n\t  window.dispatchEvent(event);\r\n\t  console.log('Event dispatched successfully');\r\n\t};\r\n\r\n  if (!user || user.role !== 'admin') return null;\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-lg shadow-sm p-6 mt-6\">\r\n      <div className=\"flex justify-between items-center mb-4\">\r\n        <h3 className=\"text-xl font-bold\">Admin Panel - Location Moderation</h3>\r\n        <button\r\n          onClick={loadPendingSubmissions}\r\n          className=\"bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700\"\r\n        >\r\n          Refresh\r\n        </button>\r\n      </div>\r\n      \r\n      {loading ? (\r\n        <div className=\"text-center py-8\">\r\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto\"></div>\r\n          <p className=\"mt-2 text-gray-600\">Loading submissions...</p>\r\n        </div>\r\n      ) : (\r\n        <div className=\"space-y-4\">\r\n          {pendingSubmissions.length === 0 ? (\r\n            <div className=\"text-center py-8 text-gray-500\">\r\n              No pending submissions to review\r\n            </div>\r\n          ) : (\r\n            pendingSubmissions.map(submission => (\r\n              <div key={submission.id} className=\"border rounded-lg p-4\">\r\n                <div className=\"flex justify-between items-start\">\r\n                  <div className=\"flex-1\">\r\n                    <h4 className=\"font-medium\">{submission.name}</h4>\r\n                    <p className=\"text-sm text-gray-600\">{submission.address}</p>\r\n                    <p className=\"text-sm text-gray-500 mt-1\">{submission.recommendation}</p>\r\n                    \r\n                    <div className=\"flex gap-2 mt-2 flex-wrap\">\r\n                      <span className=\"text-xs px-2 py-1 bg-blue-100 text-blue-700 rounded\">\r\n                        {submission.type}\r\n                      </span>\r\n                      <span className=\"text-xs px-2 py-1 bg-green-100 text-green-700 rounded\">\r\n                        {submission.priceRange}\r\n                      </span>\r\n                      {submission.dietary && (\r\n                        <span className=\"text-xs px-2 py-1 bg-purple-100 text-purple-700 rounded\">\r\n                          {submission.dietary}\r\n                        </span>\r\n                      )}\r\n                      <span className=\"text-xs px-2 py-1 bg-orange-100 text-orange-700 rounded\">\r\n                        {submission.mealTimes}\r\n                      </span>\r\n                    </div>\r\n                    \r\n                    <div className=\"mt-2 text-sm\">\r\n                      <p><strong>Recommended:</strong> {submission.recommendedDish}</p>\r\n                      <p><strong>Student Discount:</strong> {submission.studentDiscount}</p>\r\n                    </div>\r\n                    \r\n                    <p className=\"text-xs text-gray-400 mt-2\">\r\n                      Submitted by: {submission.submittedBy} • {new Date(submission.timestamp).toLocaleDateString()}\r\n                    </p>\r\n                  </div>\r\n                  \r\n                  <div className=\"flex gap-2 ml-4\">\r\n                    <button\r\n                      onClick={() => handleApproval(submission, 'approved')}\r\n                      className=\"px-3 py-1 bg-green-600 text-white text-sm rounded hover:bg-green-700\"\r\n                    >\r\n                      Approve\r\n                    </button>\r\n                    <button\r\n                      onClick={() => handleApproval(submission, 'rejected')}\r\n                      className=\"px-3 py-1 bg-red-600 text-white text-sm rounded hover:bg-red-700\"\r\n                    >\r\n                      Reject\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};","import React, { useState, useEffect } from 'react';\r\nimport { MapPin, Filter, Star, Plus, X, Heart, Settings } from 'lucide-react';\r\nimport { GoogleMap, LoadScript, Marker } from '@react-google-maps/api';\r\nimport { AuthProvider, useAuth } from './AuthContext';\r\nimport { LoginForm, RegisterForm, UserProfile } from './AuthComponents';\r\nimport { NotificationSystem } from './NotificationComponents';\r\nimport { AdminPanel } from './AdminComponents';\r\nimport { GoogleSheetsAPI } from './GoogleSheetsAPI';\r\n\r\nconst CampusFoodFinder = () => {\r\n  const { user, updatePreferences, toggleFavorite } = useAuth();\r\n  const [locations, setLocations] = useState([]);\r\n  const [filters, setFilters] = useState({\r\n    priceRange: 'all',\r\n    dietary: 'all',\r\n    mealTime: 'all'\r\n  });\r\n  const [showAllDiscounts, setShowAllDiscounts] = useState(false); \r\n  const [activeTab, setActiveTab] = useState('map');\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [selectedLocation, setSelectedLocation] = useState(null);\r\n  const [modalType, setModalType] = useState('location');\r\n  \r\n  const mapContainerStyle = {\r\n    width: '100%',\r\n    height: '400px'\r\n  };\r\n  \r\n  const center = {\r\n    lat: 51.7472620296469, \r\n    lng: 19.453302755355534  \r\n  };\r\n\r\n  useEffect(() => {\r\n\t  const loadAllLocations = async () => {\r\n\t\tconst sampleLocations = [\r\n\t\t  {\r\n\t\t\tid: 1,\r\n\t\t\tname: \"Restauracja Politechnika\",\r\n\t\t\ttype: \"campus\",\r\n\t\t\tpriceRange: \"low\",\r\n\t\t\tdietary: [\"vegetarian\", \"vegan\", \"gluten-free\"],\r\n\t\t\tmealTimes: [\"breakfast\", \"lunch\", \"dinner\"],\r\n\t\t\tdescription: \"Main campus cafeteria with daily specials and budget-friendly options.\",\r\n\t\t\taddress: \"Aleje Politechniki 8, Building B9\",\r\n\t\t\trating: 4.2,\r\n\t\t\tdiscount: \"20% off with student ID\",\r\n\t\t\tnutritionHighlights: [\"High protein options\", \"Fresh salads daily\"],\r\n\t\t\timageUrl: \"/api/placeholder/400/300\",\r\n\t\t\ttopDish: \"Vegetable Curry - 8 PLN\",\r\n\t\t\tcoordinates: {\r\n\t\t\t  lat: 51.74717066396719, \r\n\t\t\t  lng: 19.453707281086025 \r\n\t\t\t}\r\n\t\t  },\r\n\t\t  {\r\n\t\t\tid: 2,\r\n\t\t\tname: \"GIÀ pasta bar\",\r\n\t\t\ttype: \"local\",\r\n\t\t\tpriceRange: \"medium\",\r\n\t\t\tdietary: [\"vegetarian\", \"vegan\"],\r\n\t\t\tmealTimes: [\"lunch\", \"dinner\"],\r\n\t\t\tdescription: \"Vegetarian and vegan cafe with fresh juices and smoothies.\",\r\n\t\t\taddress: \"Aleje Politechniki 1 (Nowa Sukcesja), 5 min from campus\",\r\n\t\t\trating: 4.7,\r\n\t\t\tdiscount: \"Free drink with meal purchase\",\r\n\t\t\tnutritionHighlights: [\"Organic ingredients\", \"No added sugars\"],\r\n\t\t\timageUrl: \"/api/placeholder/400/300\",\r\n\t\t\ttopDish: \"Buddha Bowl - 15 PLN\",\r\n\t\t\tcoordinates: {\r\n\t\t\t  lat: 51.749699474686125, \r\n\t\t\t  lng: 19.449647520572903\r\n\t\t\t}\r\n\t\t  },\r\n\t\t  {\r\n\t\t\tid: 3,\r\n\t\t\tname: \"Bar Ha Long\",\r\n\t\t\ttype: \"local\",\r\n\t\t\tpriceRange: \"low\",\r\n\t\t\tdietary: [\"halal\"],\r\n\t\t\tmealTimes: [\"breakfast\", \"lunch\"],\r\n\t\t\tdescription: \"Quick and affordable snacks and light meals near Campus A.\",\r\n\t\t\taddress: \"Radwanska Str 30\",\r\n\t\t\trating: 3.9,\r\n\t\t\tdiscount: \"10% off during exam weeks\",\r\n\t\t\tnutritionHighlights: [\"Whole grain options\", \"Fresh fruit available\"],\r\n\t\t\timageUrl: \"/api/placeholder/400/300\",\r\n\t\t\ttopDish: \"Indian Chicken - 10 PLN\",\r\n\t\t\tcoordinates: {\r\n\t\t\t  lat: 51.752068082781435, \r\n\t\t\t  lng: 19.451446114697674\r\n\t\t\t}\r\n\t\t  },\r\n\t\t  {\r\n\t\t\tid: 4,\r\n\t\t\tname: \"Serenissima Poland Sp. o.o.\",\r\n\t\t\ttype: \"campus\",\r\n\t\t\tpriceRange: \"medium\",\r\n\t\t\tdietary: [\"vegetarian\", \"gluten-free\"],\r\n\t\t\tmealTimes: [\"lunch\", \"dinner\"],\r\n\t\t\tdescription: \"Popular student hangout with comfort food and study-friendly environment.\",\r\n\t\t\taddress: \"Aleje Politechniki 3a, Building C15\",\r\n\t\t\trating: 4.0,\r\n\t\t\tdiscount: \"Student loyalty card: buy 9 meals, get 1 free\",\r\n\t\t\tnutritionHighlights: [\"Balanced meals\", \"Local ingredients\"],\r\n\t\t\timageUrl: \"/api/placeholder/400/300\",\r\n\t\t\ttopDish: \"Quinoa Bowl - 12 PLN\",\r\n\t\t\tcoordinates: {\r\n\t\t\t  lat: 51.749031438753164,\r\n\t\t\t  lng: 19.449498397401925\r\n\t\t\t}\r\n\t\t  },\r\n\t\t  {\r\n\t\t\tid: 5,\r\n\t\t\tname: \"Zatoka Smaku\",\r\n\t\t\ttype: \"campus\",\r\n\t\t\tpriceRange: \"low\",\r\n\t\t\tdietary: [\"halal\", \"vegetarian\"],\r\n\t\t\tmealTimes: [\"breakfast\", \"lunch\", \"dinner\"],\r\n\t\t\tdescription: \"Fast-casual spot with diverse options under 10 PLN.\",\r\n\t\t\taddress: \"Zatoka Sportu Politechniki Łódzkiej, Floor 1\",\r\n\t\t\trating: 3.7,\r\n\t\t\tdiscount: \"Breakfast special: 5 PLN before 10am\",\r\n\t\t\tnutritionHighlights: [\"Portion control options\", \"Low-sodium selections\"],\r\n\t\t\timageUrl: \"/api/placeholder/400/300\",\r\n\t\t\ttopDish: \"Falafel Sandwich - 9 PLN\",\r\n\t\t\tcoordinates: {\r\n\t\t\t  lat: 51.74623336992477, \r\n\t\t\t  lng: 19.45187898413258\r\n\t\t\t}\r\n\t\t  },\r\n\t\t];\r\n\t\t\r\n\t\ttry {\r\n\t\t  console.log('Loading approved locations from Google Sheets...');\r\n\t\t  const approvedLocations = await GoogleSheetsAPI.getApprovedLocations();\r\n\t\t  console.log('Loaded approved locations:', approvedLocations);\r\n\t\t  \r\n\t\t  const maxSampleId = Math.max(...sampleLocations.map(loc => loc.id));\r\n\t\t  const processedApprovedLocations = approvedLocations.map(loc => ({\r\n\t\t\t...loc,\r\n\t\t\tid: loc.id > maxSampleId ? loc.id : maxSampleId + loc.id // Ensure unique IDs\r\n\t\t  }));\r\n\t\t  \r\n\t\t  const allLocations = [...sampleLocations, ...processedApprovedLocations];\r\n\t\t  console.log('Total locations loaded:', allLocations.length);\r\n\t\t  setLocations(allLocations);\r\n\t\t} catch (error) {\r\n\t\t  console.error('Error loading approved locations:', error);\r\n\t\t  console.log('Using only sample locations');\r\n\t\t  setLocations(sampleLocations);\r\n\t\t}\r\n\t  };\r\n\t  \r\n\t  loadAllLocations();\r\n\t}, []);\r\n\t\r\n\tuseEffect(() => {\r\n\t  console.log('=== Setting up newLocationApproved listener ===');\r\n\t  \r\n\t  const handleNewLocationApproved = (event) => {\r\n\t\tconsole.log('=== newLocationApproved event received ===');\r\n\t\tconsole.log('Event:', event);\r\n\t\tconsole.log('Event detail:', event.detail);\r\n\t\t\r\n\t\tconst newLocation = event.detail;\r\n\t\t\r\n\t\tif (!newLocation) {\r\n\t\t  console.error('No location data in event');\r\n\t\t  return;\r\n\t\t}\r\n\t\t\r\n\t\tconsole.log('New location to add:', newLocation);\r\n\t\t\r\n\t\tsetLocations(prevLocations => {\r\n\t\t  const exists = prevLocations.some(loc => loc.id === newLocation.id || loc.name === newLocation.name);\r\n\t\t  if (exists) {\r\n\t\t\tconsole.log('Location already exists, skipping...');\r\n\t\t\treturn prevLocations;\r\n\t\t  }\r\n\t\t  \r\n\t\t  console.log('Previous locations count:', prevLocations.length);\r\n\t\t  const updatedLocations = [...prevLocations, newLocation];\r\n\t\t  console.log('Updated locations count:', updatedLocations.length);\r\n\t\t  return updatedLocations;\r\n\t\t});\r\n\t\t\r\n\t\talert(`✅ ${newLocation.name} has been approved and added to the locations!`);\r\n\t  };\r\n\r\n\t  window.addEventListener('newLocationApproved', handleNewLocationApproved);\r\n\t  console.log('Event listener added successfully');\r\n\r\n\t  return () => {\r\n\t\tconsole.log('Removing newLocationApproved listener');\r\n\t\twindow.removeEventListener('newLocationApproved', handleNewLocationApproved);\r\n\t  };\r\n\t}, []);\r\n\r\n\tconst filteredLocations = locations.filter(location => {\r\n\t  if (filters.priceRange !== 'all' && location.priceRange !== filters.priceRange) {\r\n\t\treturn false;\r\n\t  }\r\n\t  \r\n\t  if (filters.dietary !== 'all' && !location.dietary.includes(filters.dietary)) {\r\n\t\treturn false;\r\n\t  }\r\n\t  \r\n\t  if (filters.mealTime !== 'all' && !location.mealTimes.includes(filters.mealTime)) {\r\n\t\treturn false;\r\n\t  }\r\n\t  \r\n\t  if (user && user.preferences && !showAllDiscounts) {\r\n\t\tif (filters.priceRange === 'all' && user.preferences.priceRange !== 'all') {\r\n\t\t  if (location.priceRange !== user.preferences.priceRange) {\r\n\t\t\treturn false;\r\n\t\t  }\r\n\t\t}\r\n\t\t\r\n\t\tif (filters.dietary === 'all' && user.preferences.dietary && user.preferences.dietary.length > 0) {\r\n\t\t  const hasMatchingDietary = user.preferences.dietary.some(diet => \r\n\t\t\tlocation.dietary.includes(diet)\r\n\t\t  );\r\n\t\t  if (!hasMatchingDietary) {\r\n\t\t\treturn false;\r\n\t\t  }\r\n\t\t}\r\n\t  }\r\n\t  \r\n\t  return true;\r\n\t});\r\n\r\n  const openLocationDetail = (location) => {\r\n\t  setSelectedLocation(location);\r\n\t  setModalType('location');\r\n\t  setShowModal(true);\r\n\t};\r\n  \r\n  const closeModal = () => {\r\n    setShowModal(false);\r\n    setSelectedLocation(null);\r\n\tsetModalType('location');\r\n  };\r\n  \r\n  useEffect(() => {\r\n   window.closeModal = closeModal;\r\n    return () => {\r\n      window.closeModal = null;\r\n    };\r\n  }, []);\r\n  \r\n  const handleFilterChange = (filterType, value) => {\r\n    setFilters({\r\n      ...filters,\r\n      [filterType]: value\r\n    });\r\n    if (value !== 'all') {\r\n      setShowAllDiscounts(false);\r\n    }\r\n  };\r\n\r\n  const openSubmissionForm = () => {\r\n    const formUrl = \"https://docs.google.com/forms/d/e/1FAIpQLSe_M5wdm4E1_pEN4SNScpa3TMKuxaek90WikQd_9fycv7MHrQ/viewform?usp=dialog\";\r\n\twindow.open(formUrl, \"_blank\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-col min-h-screen bg-gray-50\">\r\n      {/* Header */}\r\n\t\t<header className=\"bg-blue-600 text-white p-4 shadow-md\">\r\n\t\t  <div className=\"container mx-auto flex justify-between items-center\">\r\n\t\t\t<div className=\"flex items-center space-x-2\">\r\n\t\t\t  <MapPin size={24} />\r\n\t\t\t  <h1 className=\"text-xl font-bold\">Campus Food Finder</h1>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"flex items-center space-x-4\">\r\n\t\t\t  {user ? (\r\n\t\t\t\t<>\r\n\t\t\t\t  <NotificationSystem />\r\n\t\t\t\t  <span className=\"text-sm\">Welcome, {user.name}</span>\r\n\t\t\t\t  <button \r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t  setModalType('profile');\r\n\t\t\t\t\t  setShowModal(true);\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tclassName=\"bg-white text-blue-600 font-medium px-3 py-1 rounded-lg hover:bg-blue-50 transition-colors flex items-center\"\r\n\t\t\t\t  >\r\n\t\t\t\t\t<Settings size={16} className=\"mr-1\" />\r\n\t\t\t\t\tProfile\r\n\t\t\t\t  </button>\r\n\t\t\t\t</>\r\n\t\t\t  ) : (\r\n\t\t\t\t<div className=\"space-x-2\">\r\n\t\t\t\t  <button \r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t  setModalType('login');\r\n\t\t\t\t\t  setShowModal(true);\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tclassName=\"bg-white text-blue-600 px-3 py-1 rounded-lg hover:bg-blue-50\"\r\n\t\t\t\t  >\r\n\t\t\t\t\tLogin\r\n\t\t\t\t  </button>\r\n\t\t\t\t  <button \r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t  setModalType('register');\r\n\t\t\t\t\t  setShowModal(true);\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tclassName=\"bg-blue-700 text-white px-3 py-1 rounded-lg hover:bg-blue-800\"\r\n\t\t\t\t  >\r\n\t\t\t\t\tRegister\r\n\t\t\t\t  </button>\r\n\t\t\t\t</div>\r\n\t\t\t  )}\r\n\t\t\t  <button \r\n\t\t\t\tonClick={openSubmissionForm} \r\n\t\t\t\tclassName=\"bg-white text-blue-600 font-medium px-4 py-2 rounded-lg flex items-center space-x-1 hover:bg-blue-50 transition-colors\"\r\n\t\t\t  >\r\n\t\t\t\t<Plus size={18} />\r\n\t\t\t\t<span>Add Location</span>\r\n\t\t\t  </button>\r\n\t\t\t</div>\r\n\t\t  </div>\r\n\t\t</header>\r\n\r\n      {/* Main Content */}\r\n      <main className=\"flex-grow container mx-auto p-4\">\r\n        {/* Tabs */}\r\n        <div className=\"flex border-b mb-4\">\r\n          <button \r\n            className={`px-4 py-2 font-medium ${activeTab === 'map' ? 'text-blue-600 border-b-2 border-blue-600' : 'text-gray-600'}`}\r\n            onClick={() => setActiveTab('map')}\r\n          >\r\n            Map View\r\n          </button>\r\n          <button \r\n            className={`px-4 py-2 font-medium ${activeTab === 'list' ? 'text-blue-600 border-b-2 border-blue-600' : 'text-gray-600'}`}\r\n            onClick={() => setActiveTab('list')}\r\n          >\r\n            List View\r\n          </button>\r\n          <button \r\n            className={`px-4 py-2 font-medium ${activeTab === 'discount' ? 'text-blue-600 border-b-2 border-blue-600' : 'text-gray-600'}`}\r\n            onClick={() => setActiveTab('discount')}\r\n          >\r\n            Student Discounts\r\n          </button>\r\n        </div>\r\n\r\n        {/* Filters */}\r\n        <div className=\"bg-white p-4 rounded-lg shadow-sm mb-4\">\r\n          <div className=\"flex items-center space-x-1 mb-2\">\r\n            <Filter size={16} className=\"text-blue-600\" />\r\n            <h2 className=\"font-medium\">Filters</h2>\r\n          </div>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n            {/* Price Range Filter */}\r\n            <div>\r\n              <label className=\"block text-sm text-gray-600 mb-1\">Price Range</label>\r\n              <select \r\n                className=\"w-full p-2 border rounded-md\"\r\n                value={filters.priceRange}\r\n                onChange={(e) => handleFilterChange('priceRange', e.target.value)}\r\n              >\r\n                <option value=\"all\">All Prices</option>\r\n                <option value=\"low\">Budget (Under 10 PLN)</option>\r\n                <option value=\"medium\">Mid-Range (10-15 PLN)</option>\r\n                <option value=\"high\">Premium (15+ PLN)</option>\r\n              </select>\r\n            </div>\r\n            \r\n            {/* Dietary Filter */}\r\n            <div>\r\n              <label className=\"block text-sm text-gray-600 mb-1\">Dietary Options</label>\r\n              <select \r\n                className=\"w-full p-2 border rounded-md\"\r\n                value={filters.dietary}\r\n                onChange={(e) => handleFilterChange('dietary', e.target.value)}\r\n              >\r\n                <option value=\"all\">All Options</option>\r\n                <option value=\"vegetarian\">Vegetarian</option>\r\n                <option value=\"vegan\">Vegan</option>\r\n                <option value=\"gluten-free\">Gluten-Free</option>\r\n                <option value=\"halal\">Halal</option>\r\n              </select>\r\n            </div>\r\n            \r\n            {/* Meal Time Filter */}\r\n            <div>\r\n              <label className=\"block text-sm text-gray-600 mb-1\">Meal Time</label>\r\n              <select \r\n                className=\"w-full p-2 border rounded-md\"\r\n                value={filters.mealTime}\r\n                onChange={(e) => handleFilterChange('mealTime', e.target.value)}\r\n              >\r\n                <option value=\"all\">Any Time</option>\r\n                <option value=\"breakfast\">Breakfast</option>\r\n                <option value=\"lunch\">Lunch</option>\r\n                <option value=\"dinner\">Dinner</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Map View */}\r\n        <div className={`bg-white p-4 rounded-lg shadow-sm ${activeTab === 'map' ? 'block' : 'hidden'}`}>\r\n          <div className=\"text-center mb-4 text-gray-700\">\r\n            <p className=\"mb-2\">Campus Food Finder Map</p>\r\n            <p className=\"text-sm text-gray-500\">\r\n              Explore affordable and nutritious food options near Lodz University of Technology.\r\n\t\t\t  Click on markers to see details about each location.\r\n            </p>\r\n          </div>\r\n          {/* Real Google Maps container */}\r\n\t\t  <div className=\"mb-4 h-64\" style={{ height: \"400px\" }}>\r\n\t\t\t<LoadScript googleMapsApiKey=\"AIzaSyAoyyD3kvahuQlz35-5ny91RV4Xw0S65-k\">\r\n\t\t\t  <GoogleMap\r\n\t\t\t\tmapContainerStyle={mapContainerStyle}\r\n\t\t\t\tcenter={center}\r\n\t\t\t\tzoom={14}\r\n\t\t\t\toptions={{\r\n\t\t\t\t  disableDefaultUI: false,\r\n\t\t\t\t  zoomControl: true,\r\n\t\t\t\t  mapTypeControl: true,\r\n\t\t\t\t  streetViewControl: false,\r\n\t\t\t\t  fullscreenControl: true,\r\n\t\t\t\t}}\r\n\t\t\t  >\r\n\t\t\t\t{/* Add markers for each location */}\r\n\t\t\t\t{filteredLocations.map(location => (\r\n\t\t\t\t  <Marker\r\n\t\t\t\t\tkey={location.id}\r\n\t\t\t\t\tposition={location.coordinates}\r\n\t\t\t\t\tonClick={() => openLocationDetail(location)}\r\n\t\t\t\t  />\r\n\t\t\t\t))}\r\n\t\t\t  </GoogleMap>\r\n\t\t\t</LoadScript>\r\n\t\t  </div>\r\n          \r\n          {/* Location cards below map */}\r\n          <h3 className=\"font-medium mb-2\">Nearby Locations ({filteredLocations.length})</h3>\r\n          \r\n          {filteredLocations.length === 0 ? (\r\n            <div className=\"p-8 text-center\">\r\n              <div className=\"text-gray-400 mb-2\">\r\n                <span className=\"text-4xl\" role=\"img\" aria-label=\"sad face\">😔</span>\r\n              </div>\r\n              <h3 className=\"text-lg font-medium text-gray-700 mb-2\">No locations match your preferences</h3>\r\n              <p className=\"text-gray-500 mb-4\">\r\n                Try adjusting your filters above or updating your preferences in your profile.\r\n              </p>\r\n              <button\r\n                onClick={() => {\r\n                  setFilters({\r\n                    priceRange: 'all',\r\n                    dietary: 'all',\r\n                    mealTime: 'all'\r\n                  });\r\n                  setShowAllDiscounts(true);\r\n                }}\r\n                className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700\"\r\n              >\r\n                Show All Locations\r\n              </button>\r\n            </div>\r\n          ) : (\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              {filteredLocations.map(location => (\r\n                <div \r\n                  key={location.id} \r\n                  className=\"bg-white border rounded-lg shadow-sm hover:shadow-md transition-shadow cursor-pointer\"\r\n                  onClick={() => openLocationDetail(location)}\r\n                >\r\n                <div className=\"p-3 border-b\">\r\n\t\t\t\t  <div className=\"flex justify-between items-start\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t  <h3 className=\"font-medium\">{location.name}</h3>\r\n\t\t\t\t\t  <p className=\"text-sm text-gray-500\">{location.address}</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"flex flex-col items-end space-y-2\">\r\n\t\t\t\t\t  <div className=\"flex items-center bg-blue-50 px-2 py-1 rounded text-sm\">\r\n\t\t\t\t\t\t<Star size={14} className=\"text-yellow-500 mr-1\" />\r\n\t\t\t\t\t\t<span>{location.rating}</span>\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t  {/* Heart button moved here */}\r\n\t\t\t\t\t  {user && (\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t  onClick={(e) => {\r\n\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t\ttoggleFavorite(location.id);\r\n\t\t\t\t\t\t  }}\r\n\t\t\t\t\t\t  className={`p-1 rounded-full ${\r\n\t\t\t\t\t\t\tuser.favoriteLocations?.includes(location.id)\r\n\t\t\t\t\t\t\t  ? 'text-red-500 bg-white shadow-md'\r\n\t\t\t\t\t\t\t  : 'text-gray-400 bg-white shadow-md'\r\n\t\t\t\t\t\t  }`}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t  <Heart \r\n\t\t\t\t\t\t\tsize={16} \r\n\t\t\t\t\t\t\tfill={user.favoriteLocations?.includes(location.id) ? 'currentColor' : 'none'}\r\n\t\t\t\t\t\t  />\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t  )}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t  </div>\r\n\t\t\t\t\t\r\n                    <div className=\"flex mt-2 flex-wrap gap-1\">\r\n                      {location.priceRange === 'low' && (\r\n                        <span className=\"bg-green-100 text-green-700 text-xs px-2 py-1 rounded\">Budget</span>\r\n                      )}\r\n\t\t\t\t\t  {location.priceRange === 'medium' && (\r\n\t\t\t\t\t\t<span className=\"bg-blue-100 text-blue-700 text-xs px-2 py-1 rounded\">Mid-Range</span>\r\n\t\t\t\t\t  )}\r\n\t\t\t\t\t  {location.priceRange === 'high' && (\r\n\t\t\t\t\t\t<span className=\"bg-red-100 text-red-700 text-xs px-2 py-1 rounded\">Premium</span>\r\n\t\t\t\t\t  )}\r\n                      {location.dietary.includes('vegetarian') && (\r\n                        <span className=\"bg-green-50 text-green-600 text-xs px-2 py-1 rounded\">Vegetarian</span>\r\n                      )}\r\n                      {location.dietary.includes('vegan') && (\r\n                        <span className=\"bg-green-50 text-green-600 text-xs px-2 py-1 rounded\">Vegan</span>\r\n                      )}\r\n\t\t\t\t\t  {location.dietary.includes('halal') && (\r\n\t\t\t\t\t\t<span className=\"bg-purple-50 text-purple-600 text-xs px-2 py-1 rounded\">Halal</span>\r\n\t\t\t\t\t  )}\r\n\t\t\t\t\t  {location.dietary.includes('gluten-free') && (\r\n\t\t\t\t\t\t<span className=\"bg-orange-50 text-orange-600 text-xs px-2 py-1 rounded\">Gluten-Free</span>\r\n\t\t\t\t\t  )}\r\n                      {location.discount && (\r\n                        <span className=\"bg-blue-50 text-blue-600 text-xs px-2 py-1 rounded flex items-center\">\r\n                          <span className=\"mr-1\" role=\"img\" aria-label=\"graduation cap\">🎓</span> Discount\r\n                        </span>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"p-3\">\r\n                    <div className=\"text-sm font-medium\">Top Pick: {location.topDish}</div>\r\n                    <div className=\"text-xs text-blue-600 mt-1\">{location.discount}</div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* List View */}\r\n        <div className={`bg-white rounded-lg shadow-sm ${activeTab === 'list' ? 'block' : 'hidden'}`}>\r\n\t\t  <div className=\"p-4 border-b\">\r\n\t\t\t<h2 className=\"font-medium\">All Locations ({filteredLocations.length})</h2>\r\n\t\t  </div>\r\n\t\t  \r\n\t\t  {filteredLocations.length === 0 ? (\r\n\t\t\t<div className=\"p-8 text-center\">\r\n\t\t\t  <div className=\"text-gray-400 mb-2\">\r\n\t\t\t\t<span className=\"text-4xl\" role=\"img\" aria-label=\"sad face\">😔</span>\r\n\t\t\t  </div>\r\n\t\t\t  <h3 className=\"text-lg font-medium text-gray-700 mb-2\">No locations match your preferences</h3>\r\n\t\t\t  <p className=\"text-gray-500 mb-4\">\r\n\t\t\t\tTry adjusting your filters above or updating your preferences in your profile.\r\n\t\t\t  </p>\r\n\t\t\t  <button\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t  setFilters({\r\n\t\t\t\t\tpriceRange: 'all',\r\n\t\t\t\t\tdietary: 'all',\r\n\t\t\t\t\tmealTime: 'all'\r\n\t\t\t\t  });\r\n\t\t\t\t  setShowAllDiscounts(true);\r\n\t\t\t\t}}\r\n\t\t\t\tclassName=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700\"\r\n\t\t\t  >\r\n\t\t\t\tShow All Locations\r\n\t\t\t  </button>\r\n\t\t\t</div>\r\n\t\t  ) : (\r\n\t\t\t<div className=\"divide-y\">\r\n\t\t\t  {filteredLocations.map(location => (\r\n\t\t\t\t<div \r\n\t\t\t\t  key={location.id} \r\n\t\t\t\t  className=\"p-4 hover:bg-gray-50 cursor-pointer\"\r\n\t\t\t\t  onClick={() => openLocationDetail(location)}\r\n\t\t\t\t>\r\n\t\t\t\t  <div className=\"flex justify-between\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t  <h3 className=\"font-medium\">{location.name}</h3>\r\n\t\t\t\t\t  <p className=\"text-sm text-gray-500\">{location.address}</p>\r\n\t\t\t\t\t  <div className=\"flex mt-1 flex-wrap gap-1\">\r\n\t\t\t\t\t\t{location.priceRange === 'low' && (\r\n\t\t\t\t\t\t  <span className=\"bg-green-100 text-green-700 text-xs px-2 py-1 rounded\">Budget</span>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{location.priceRange === 'medium' && (\r\n\t\t\t\t\t\t  <span className=\"bg-blue-100 text-blue-700 text-xs px-2 py-1 rounded\">Mid-Range</span>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{location.priceRange === 'high' && (\r\n\t\t\t\t\t\t  <span className=\"bg-red-100 text-red-700 text-xs px-2 py-1 rounded\">Premium</span>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{location.dietary.map(diet => (\r\n\t\t\t\t\t\t  <span \r\n\t\t\t\t\t\t\tkey={diet} \r\n\t\t\t\t\t\t\tclassName={`text-xs px-2 py-1 rounded ${\r\n\t\t\t\t\t\t\t  diet === 'vegetarian' ? 'bg-green-50 text-green-600' :\r\n\t\t\t\t\t\t\t  diet === 'vegan' ? 'bg-green-50 text-green-600' :\r\n\t\t\t\t\t\t\t  diet === 'halal' ? 'bg-purple-50 text-purple-600' :\r\n\t\t\t\t\t\t\t  diet === 'gluten-free' ? 'bg-orange-50 text-orange-600' :\r\n\t\t\t\t\t\t\t  'bg-blue-50 text-blue-600'\r\n\t\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\t  >\r\n\t\t\t\t\t\t\t{diet.charAt(0).toUpperCase() + diet.slice(1).replace('-', ' ')}\r\n\t\t\t\t\t\t  </span>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"flex flex-col items-end\">\r\n\t\t\t\t\t  <div className=\"flex items-center bg-blue-50 px-2 py-1 rounded text-sm mb-2\">\r\n\t\t\t\t\t\t<Star size={14} className=\"text-yellow-500 mr-1\" />\r\n\t\t\t\t\t\t<span>{location.rating}</span>\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t  <div className=\"text-sm font-medium\">{location.topDish}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t  </div>\r\n\t\t\t\t  <div className=\"mt-2\">\r\n\t\t\t\t\t<p className=\"text-sm\">{location.description}</p>\r\n\t\t\t\t\t{location.discount && (\r\n\t\t\t\t\t  <p className=\"text-sm text-blue-600 mt-1\">\r\n\t\t\t\t\t\t<span className=\"font-medium\">Student Discount:</span> {location.discount}\r\n\t\t\t\t\t  </p>\r\n\t\t\t\t\t)}\r\n\t\t\t\t  </div>\r\n\t\t\t\t</div>\r\n\t\t\t  ))}\r\n\t\t\t</div>\r\n\t\t  )}\r\n\t\t</div>\r\n\r\n        {/* Discounts View */}\r\n        <div className={`bg-white rounded-lg shadow-sm ${activeTab === 'discount' ? 'block' : 'hidden'}`}>\r\n          <div className=\"p-4 border-b\">\r\n            <h2 className=\"font-medium\">Student Discounts</h2>\r\n            <p className=\"text-sm text-gray-500 mt-1\">Special offers for students with valid ID</p>\r\n            {user && user.preferences && !showAllDiscounts && (\r\n              <p className=\"text-xs text-blue-600 mt-2\">\r\n                Showing discounts matching your preferences: {\r\n                  user.preferences.priceRange !== 'all' \r\n                    ? (user.preferences.priceRange === 'low' ? 'budget' : \r\n                       user.preferences.priceRange === 'medium' ? 'mid-range' : 'premium')\r\n                    : 'all prices'\r\n                }, {user.preferences.dietary && user.preferences.dietary.length > 0 ? user.preferences.dietary.join(', ') : 'all dietary options'}\r\n              </p>\r\n            )}\r\n          </div>\r\n          <div className=\"divide-y\">\r\n            {filteredLocations\r\n              .filter(location => location.discount) \r\n              .map(location => (\r\n                <div \r\n                  key={location.id} \r\n                  className=\"p-4 hover:bg-gray-50 cursor-pointer\"\r\n                  onClick={() => openLocationDetail(location)}\r\n                >\r\n                  <div className=\"flex justify-between items-start\">\r\n                    <div>\r\n                      <h3 className=\"font-medium\">{location.name}</h3>\r\n                      <p className=\"text-sm text-gray-500\">{location.address}</p>\r\n                    </div>\r\n                    <div className=\"flex items-center bg-blue-50 px-2 py-1 rounded text-sm\">\r\n                      <Star size={14} className=\"text-yellow-500 mr-1\" />\r\n                      <span>{location.rating}</span>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"mt-2 p-3 bg-blue-50 rounded-lg border border-blue-100\">\r\n                    <div className=\"flex items-start\">\r\n                      <span className=\"text-2xl mr-2\" role=\"img\" aria-label=\"graduation cap\">🎓</span>\r\n                      <div>\r\n                        <p className=\"font-medium text-blue-700\">{location.discount}</p>\r\n                        <p className=\"text-sm text-blue-600 mt-1\">Show your student ID to redeem</p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  {/* Show why this discount matches user preferences */}\r\n                  {user && user.preferences && !showAllDiscounts && (\r\n                    <div className=\"mt-2 flex flex-wrap gap-1\">\r\n                      {/* Price range match */}\r\n                      {user.preferences.priceRange !== 'all' && location.priceRange === user.preferences.priceRange && (\r\n                        <span className=\"text-xs px-2 py-1 bg-green-50 text-green-600 rounded border border-green-200\">\r\n                          Matches your price preference\r\n                        </span>\r\n                      )}\r\n                      \r\n                      {/* Dietary matches */}\r\n                      {user.preferences.dietary && user.preferences.dietary.length > 0 && \r\n                       user.preferences.dietary.some(diet => location.dietary.includes(diet)) && (\r\n                        <span className=\"text-xs px-2 py-1 bg-purple-50 text-purple-600 rounded border border-purple-200\">\r\n                          Matches your dietary preferences\r\n                        </span>\r\n                      )}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              ))}\r\n            \r\n            {/* Show message if no discounts match preferences */}\r\n            {filteredLocations.filter(location => location.discount).length === 0 && (\r\n              <div className=\"p-8 text-center\">\r\n                <div className=\"text-gray-400 mb-2\">\r\n                  <span className=\"text-4xl\" role=\"img\" aria-label=\"sad face\">😔</span>\r\n                </div>\r\n                <h3 className=\"text-lg font-medium text-gray-700 mb-2\">No discounts match your preferences</h3>\r\n                <p className=\"text-gray-500 mb-4\">\r\n                  Try adjusting your filters above or updating your preferences in your profile.\r\n                </p>\r\n                <button\r\n                  onClick={() => {\r\n                    setFilters({\r\n                      priceRange: 'all',\r\n                      dietary: 'all',\r\n                      mealTime: 'all'\r\n                    });\r\n                    setShowAllDiscounts(true); \r\n                  }}\r\n                  className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700\"\r\n                >\r\n                  Show All Discounts\r\n                </button>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </main>\r\n\r\n      {/* About/QR Code Section */}\r\n      <section className=\"bg-gray-100 py-6\">\r\n        <div className=\"container mx-auto px-4\">\r\n          <div className=\"bg-white p-6 rounded-lg shadow-sm\">\r\n            <h2 className=\"text-xl font-bold mb-4\">About Campus Food Finder</h2>\r\n            <p className=\"mb-4\">\r\n              Campus Food Finder helps university students find affordable, nutritious food options on and near campus. \r\n              Our platform addresses key challenges identified in our research:\r\n            </p>\r\n            <ul className=\"list-disc pl-5 mb-4 space-y-1\">\r\n              <li>Budget constraints that lead to poor food choices</li>\r\n              <li>Lack of centralized information about affordable, healthy options</li>\r\n              <li>Time poverty that affects meal preparation and planning</li>\r\n            </ul>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6\">\r\n              <div>\r\n                <h3 className=\"font-medium mb-2\">Scan our QR Code</h3>\r\n                <p className=\"text-sm text-gray-600 mb-3\">\r\n                  Save this page to your phone by scanning this QR code. Share with your friends!\r\n                </p>\r\n                <div className=\"bg-gray-100 w-32 h-32 flex items-center justify-center rounded-lg border overflow-hidden\">\r\n\t\t\t\t  <img \r\n\t\t\t\t\tsrc={process.env.PUBLIC_URL + '/qr-code.png'} \r\n\t\t\t\t\talt=\"Campus Food Finder QR Code\" \r\n\t\t\t\t\tclassName=\"w-full h-full object-contain p-1\"\r\n\t\t\t\t  />\r\n\t\t\t\t</div>\r\n              </div>\r\n              <div>\r\n                <h3 className=\"font-medium mb-2\">Help Us Grow</h3>\r\n                <p className=\"text-sm text-gray-600 mb-3\">\r\n                  Know a great affordable place to eat? Add it to our database!\r\n                </p>\r\n                <button \r\n                  onClick={openSubmissionForm}\r\n                  className=\"bg-blue-600 text-white font-medium px-4 py-2 rounded-lg flex items-center hover:bg-blue-700 transition-colors\"\r\n\t\t\t\t  title=\"Open submission form in a new tab\"\r\n                >\r\n                  <Plus size={18} className=\"mr-1\" />\r\n                  <span>Submit New Location</span>\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\t  \r\n\t  {/* Admin Panel */}\r\n\t  <AdminPanel />\r\n\r\n      {/* Footer */}\r\n      <footer className=\"bg-gray-800 text-white p-4\">\r\n        <div className=\"container mx-auto text-center text-sm\">\r\n          <p>&copy; 2025 Campus Food Finder - Team Project</p>\r\n          <p className=\"mt-1\">Team 7 Initiative</p>\r\n        </div>\r\n      </footer>\r\n\r\n      {/* Authentication and Location Detail Modals */}\r\n\t\t{showModal && (\r\n\t\t  <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\r\n\t\t\t<div className=\"bg-white rounded-lg shadow-lg w-full max-w-2xl max-h-screen overflow-y-auto\">\r\n\t\t\t  <div className=\"flex justify-between items-center p-4 border-b\">\r\n\t\t\t\t<h2 className=\"text-xl font-bold\">\r\n\t\t\t\t  {modalType === 'login' && 'Login'}\r\n\t\t\t\t  {modalType === 'register' && 'Register'}\r\n\t\t\t\t  {modalType === 'profile' && 'Profile'}\r\n\t\t\t\t  {modalType === 'location' && selectedLocation?.name}\r\n\t\t\t\t</h2>\r\n\t\t\t\t<button \r\n\t\t\t\t  onClick={closeModal}\r\n\t\t\t\t  className=\"text-gray-500 hover:text-gray-700\"\r\n\t\t\t\t>\r\n\t\t\t\t  <X size={24} />\r\n\t\t\t\t</button>\r\n\t\t\t  </div>\r\n\t\t\t  \r\n\t\t\t  <div className=\"p-4\">\r\n\t\t\t\t{modalType === 'login' && (\r\n\t\t\t\t  <LoginForm\r\n\t\t\t\t\tonClose={closeModal}\r\n\t\t\t\t\tonSwitchToRegister={() => setModalType('register')}\r\n\t\t\t\t  />\r\n\t\t\t\t)}\r\n\t\t\t\t\r\n\t\t\t\t{modalType === 'register' && (\r\n\t\t\t\t  <RegisterForm\r\n\t\t\t\t\tonClose={closeModal}\r\n\t\t\t\t\tonSwitchToLogin={() => setModalType('login')}\r\n\t\t\t\t  />\r\n\t\t\t\t)}\r\n\t\t\t\t\r\n\t\t\t\t{modalType === 'profile' && user ? (\r\n\t\t\t\t  <UserProfile\r\n\t\t\t\t\tuser={user}\r\n\t\t\t\t\tonUpdatePreferences={(newPreferences) => {\r\n\t\t\t\t\t  updatePreferences(newPreferences);\r\n\t\t\t\t\t  setShowAllDiscounts(false); // Reset when preferences change\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tonClose={closeModal}\r\n\t\t\t\t  />\r\n\t\t\t\t) : modalType === 'profile' && !user ? (\r\n\t\t\t\t  <div className=\"p-4 text-center\">\r\n\t\t\t\t\t<p className=\"text-gray-600\">Please log in to view your profile</p>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t  onClick={closeModal}\r\n\t\t\t\t\t  className=\"mt-3 bg-blue-600 text-white px-4 py-2 rounded-lg\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t  Close\r\n\t\t\t\t\t</button>\r\n\t\t\t\t  </div>\r\n\t\t\t\t) : null}\r\n\t\t\t\t\r\n\t\t\t\t{modalType === 'location' && selectedLocation && (\r\n\t\t\t\t  <div>\r\n\t\t\t\t\t{/* Location image */}\r\n\t\t\t\t\t<div className=\"rounded-lg overflow-hidden h-48 bg-gray-200 mb-4\">\r\n\t\t\t\t\t  <img \r\n\t\t\t\t\t\tsrc={selectedLocation.imageUrl} \r\n\t\t\t\t\t\talt={selectedLocation.name}\r\n\t\t\t\t\t\tclassName=\"w-full h-full object-cover\"\r\n\t\t\t\t\t  />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t{/* Location details */}\r\n\t\t\t\t\t<div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n\t\t\t\t\t  <div>\r\n\t\t\t\t\t\t<div className=\"mb-4\">\r\n\t\t\t\t\t\t  <h3 className=\"font-medium text-gray-700 mb-1\">Description</h3>\r\n\t\t\t\t\t\t  <p className=\"text-gray-600\">{selectedLocation.description}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<div className=\"mb-4\">\r\n\t\t\t\t\t\t  <h3 className=\"font-medium text-gray-700 mb-1\">Address</h3>\r\n\t\t\t\t\t\t  <p className=\"text-gray-600\">{selectedLocation.address}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<div className=\"mb-4\">\r\n\t\t\t\t\t\t  <h3 className=\"font-medium text-gray-700 mb-1\">Price Range</h3>\r\n\t\t\t\t\t\t  <p className=\"text-gray-600\">\r\n\t\t\t\t\t\t\t{selectedLocation.priceRange === 'low' ? 'Budget-friendly (Under 10 PLN)' : \r\n\t\t\t\t\t\t\t selectedLocation.priceRange === 'medium' ? 'Mid-range (10-15 PLN)' : \r\n\t\t\t\t\t\t\t 'Premium (15+ PLN)'}\r\n\t\t\t\t\t\t  </p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t  \r\n\t\t\t\t\t  <div>\r\n\t\t\t\t\t\t<div className=\"mb-4\">\r\n\t\t\t\t\t\t  <h3 className=\"font-medium text-gray-700 mb-1\">Nutrition Highlights</h3>\r\n\t\t\t\t\t\t  <ul className=\"list-disc pl-5 text-gray-600\">\r\n\t\t\t\t\t\t\t{selectedLocation.nutritionHighlights.map((highlight, index) => (\r\n\t\t\t\t\t\t\t  <li key={index}>{highlight}</li>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t  </ul>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<div className=\"mb-4\">\r\n\t\t\t\t\t\t  <h3 className=\"font-medium text-gray-700 mb-1\">Dietary Options</h3>\r\n\t\t\t\t\t\t  <div className=\"flex flex-wrap gap-1\">\r\n\t\t\t\t\t\t\t{selectedLocation.dietary.map(diet => (\r\n\t\t\t\t\t\t\t  <span key={diet} className=\"bg-green-50 text-green-600 text-xs px-2 py-1 rounded\">\r\n\t\t\t\t\t\t\t\t{diet}\r\n\t\t\t\t\t\t\t  </span>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<div className=\"mb-4\">\r\n\t\t\t\t\t\t  <h3 className=\"font-medium text-gray-700 mb-1\">Available For</h3>\r\n\t\t\t\t\t\t  <div className=\"flex flex-wrap gap-1\">\r\n\t\t\t\t\t\t\t{selectedLocation.mealTimes.map(time => (\r\n\t\t\t\t\t\t\t  <span key={time} className=\"bg-blue-50 text-blue-600 text-xs px-2 py-1 rounded\">\r\n\t\t\t\t\t\t\t\t{time.charAt(0).toUpperCase() + time.slice(1)}\r\n\t\t\t\t\t\t\t  </span>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t{/* Student Discount */}\r\n\t\t\t\t\t{selectedLocation.discount && (\r\n\t\t\t\t\t  <div className=\"mt-2 p-4 bg-blue-50 rounded-lg border border-blue-100\">\r\n\t\t\t\t\t\t<div className=\"flex items-start\">\r\n\t\t\t\t\t\t  <span className=\"text-2xl mr-2\" role=\"img\" aria-label=\"graduation cap\">🎓</span>\r\n\t\t\t\t\t\t  <div>\r\n\t\t\t\t\t\t\t<h3 className=\"font-medium text-blue-700\">Student Discount</h3>\r\n\t\t\t\t\t\t\t<p className=\"text-blue-600\">{selectedLocation.discount}</p>\r\n\t\t\t\t\t\t\t<p className=\"text-sm text-blue-500 mt-1\">Show your student ID to redeem</p>\r\n\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t\r\n\t\t\t\t\t{/* Top dishes */}\r\n\t\t\t\t\t<div className=\"mt-4\">\r\n\t\t\t\t\t  <h3 className=\"font-medium text-gray-700 mb-2\">Recommended Items</h3>\r\n\t\t\t\t\t  <div className=\"bg-gray-50 p-3 rounded-lg border border-gray-200\">\r\n\t\t\t\t\t\t<div className=\"font-medium\">{selectedLocation.topDish}</div>\r\n\t\t\t\t\t\t<p className=\"text-sm text-gray-500 mt-1\">Student favorite</p>\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t{/* Rating and Favorite Button */}\r\n\t\t\t\t\t<div className=\"mt-4 flex items-center justify-between\">\r\n\t\t\t\t\t  <div className=\"flex items-center bg-blue-50 px-3 py-2 rounded\">\r\n\t\t\t\t\t\t<Star size={18} className=\"text-yellow-500 mr-1\" />\r\n\t\t\t\t\t\t<span className=\"font-medium\">{selectedLocation.rating}</span>\r\n\t\t\t\t\t\t<span className=\"text-gray-500 text-sm ml-2\">Student Rating</span>\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t  \r\n\t\t\t\t\t  {user && (\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t  onClick={() => toggleFavorite(selectedLocation.id)}\r\n\t\t\t\t\t\t  className={`flex items-center px-3 py-2 rounded-lg ${\r\n\t\t\t\t\t\t\tuser.favoriteLocations?.includes(selectedLocation.id)\r\n\t\t\t\t\t\t\t  ? 'bg-red-50 text-red-600'\r\n\t\t\t\t\t\t\t  : 'bg-gray-50 text-gray-600'\r\n\t\t\t\t\t\t  }`}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t  <Heart \r\n\t\t\t\t\t\t\tsize={18} \r\n\t\t\t\t\t\t\tclassName=\"mr-1\"\r\n\t\t\t\t\t\t\tfill={user.favoriteLocations?.includes(selectedLocation.id) ? 'currentColor' : 'none'}\r\n\t\t\t\t\t\t  />\r\n\t\t\t\t\t\t  {user.favoriteLocations?.includes(selectedLocation.id) ? 'Remove from Favorites' : 'Add to Favorites'}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t  )}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t  </div>\r\n\t\t\t\t)}\r\n\t\t\t  </div>\r\n\t\t\t  \r\n\t\t\t  <div className=\"p-4 border-t bg-gray-50\">\r\n\t\t\t\t<button\r\n\t\t\t\t  onClick={closeModal}\r\n\t\t\t\t  className=\"w-full bg-blue-600 text-white font-medium py-2 rounded-lg hover:bg-blue-700 transition-colors\"\r\n\t\t\t\t>\r\n\t\t\t\t  Close\r\n\t\t\t\t</button>\r\n\t\t\t  </div>\r\n\t\t\t</div>\r\n\t\t  </div>\r\n\t\t)}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst AppWithAuth = () => {\r\n  return (\r\n    <AuthProvider>\r\n      <CampusFoodFinder />\r\n    </AuthProvider>\r\n  );\r\n};\r\n\r\nexport default AppWithAuth;","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom/client';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById('root'));\r\nroot.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}